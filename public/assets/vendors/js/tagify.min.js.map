{"version":3,"file":"tagify.min.js","sources":["tagify.min.js"],"sourcesContent":["/**\r\n * Tagify (v 4.12.0) - tags input component\r\n * By Yair Even-Or\r\n * https://github.com/yairEO/tagify\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy\r\n * of this software and associated documentation files (the \"Software\"), to deal\r\n * in the Software without restriction, including without limitation the rights\r\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n * copies of the Software, and to permit persons to whom the Software is\r\n * furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n * THE SOFTWARE.\r\n *\r\n * THE SOFTWARE IS NOT PERMISSIBLE TO BE SOLD.\r\n */\r\n\r\n!(function (t, e) {\r\n\t\"object\" == typeof exports && \"undefined\" != typeof module ? (module.exports = e()) : \"function\" == typeof define && define.amd ? define(e) : ((t = \"undefined\" != typeof globalThis ? globalThis : t || self).Tagify = e());\r\n})(this, function () {\r\n\t\"use strict\";\r\n\tfunction t(t, e) {\r\n\t\tvar i = Object.keys(t);\r\n\t\tif (Object.getOwnPropertySymbols) {\r\n\t\t\tvar s = Object.getOwnPropertySymbols(t);\r\n\t\t\te &&\r\n\t\t\t\t(s = s.filter(function (e) {\r\n\t\t\t\t\treturn Object.getOwnPropertyDescriptor(t, e).enumerable;\r\n\t\t\t\t})),\r\n\t\t\t\ti.push.apply(i, s);\r\n\t\t}\r\n\t\treturn i;\r\n\t}\r\n\tfunction e(e) {\r\n\t\tfor (var s = 1; s < arguments.length; s++) {\r\n\t\t\tvar a = null != arguments[s] ? arguments[s] : {};\r\n\t\t\ts % 2\r\n\t\t\t\t? t(Object(a), !0).forEach(function (t) {\r\n\t\t\t\t\t\ti(e, t, a[t]);\r\n\t\t\t\t  })\r\n\t\t\t\t: Object.getOwnPropertyDescriptors\r\n\t\t\t\t? Object.defineProperties(e, Object.getOwnPropertyDescriptors(a))\r\n\t\t\t\t: t(Object(a)).forEach(function (t) {\r\n\t\t\t\t\t\tObject.defineProperty(e, t, Object.getOwnPropertyDescriptor(a, t));\r\n\t\t\t\t  });\r\n\t\t}\r\n\t\treturn e;\r\n\t}\r\n\tfunction i(t, e, i) {\r\n\t\treturn e in t ? Object.defineProperty(t, e, { value: i, enumerable: !0, configurable: !0, writable: !0 }) : (t[e] = i), t;\r\n\t}\r\n\tconst s = (t, e, i, s) => ((t = \"\" + t), (e = \"\" + e), s && ((t = t.trim()), (e = e.trim())), i ? t == e : t.toLowerCase() == e.toLowerCase()),\r\n\t\ta = (t, e) => t && Array.isArray(t) && t.map((t) => n(t, e));\r\n\tfunction n(t, e) {\r\n\t\tvar i,\r\n\t\t\ts = {};\r\n\t\tfor (i in t) e.indexOf(i) < 0 && (s[i] = t[i]);\r\n\t\treturn s;\r\n\t}\r\n\tfunction o(t) {\r\n\t\tvar e = document.createElement(\"div\");\r\n\t\treturn t.replace(/\\&#?[0-9a-z]+;/gi, function (t) {\r\n\t\t\treturn (e.innerHTML = t), e.innerText;\r\n\t\t});\r\n\t}\r\n\tfunction r(t) {\r\n\t\treturn new DOMParser().parseFromString(t.trim(), \"text/html\").body.firstElementChild;\r\n\t}\r\n\tfunction l(t, e) {\r\n\t\tfor (e = e || \"previous\"; (t = t[e + \"Sibling\"]); ) if (3 == t.nodeType) return t;\r\n\t}\r\n\tfunction d(t) {\r\n\t\treturn \"string\" == typeof t ? t.replace(/&/g, \"&amp;\").replace(/</g, \"&lt;\").replace(/>/g, \"&gt;\").replace(/\"/g, \"&quot;\").replace(/`|'/g, \"&#039;\") : t;\r\n\t}\r\n\tfunction h(t) {\r\n\t\tvar e = Object.prototype.toString.call(t).split(\" \")[1].slice(0, -1);\r\n\t\treturn t === Object(t) && \"Array\" != e && \"Function\" != e && \"RegExp\" != e && \"HTMLUnknownElement\" != e;\r\n\t}\r\n\tfunction g(t, e, i) {\r\n\t\tfunction s(t, e) {\r\n\t\t\tfor (var i in e)\r\n\t\t\t\tif (e.hasOwnProperty(i)) {\r\n\t\t\t\t\tif (h(e[i])) {\r\n\t\t\t\t\t\th(t[i]) ? s(t[i], e[i]) : (t[i] = Object.assign({}, e[i]));\r\n\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (Array.isArray(e[i])) {\r\n\t\t\t\t\t\tt[i] = Object.assign([], e[i]);\r\n\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tt[i] = e[i];\r\n\t\t\t\t}\r\n\t\t}\r\n\t\treturn t instanceof Object || (t = {}), s(t, e), i && s(t, i), t;\r\n\t}\r\n\tfunction p() {\r\n\t\tconst t = [],\r\n\t\t\te = {};\r\n\t\tfor (let i of arguments) for (let s of i) h(s) ? e[s.value] || (t.push(s), (e[s.value] = 1)) : t.includes(s) || t.push(s);\r\n\t\treturn t;\r\n\t}\r\n\tfunction c(t) {\r\n\t\treturn String.prototype.normalize ? (\"string\" == typeof t ? t.normalize(\"NFD\").replace(/[\\u0300-\\u036f]/g, \"\") : void 0) : t;\r\n\t}\r\n\tvar u = () => /(?=.*chrome)(?=.*android)/i.test(navigator.userAgent);\r\n\tfunction m() {\r\n\t\treturn ([1e7] + -1e3 + -4e3 + -8e3 + -1e11).replace(/[018]/g, (t) => (t ^ (crypto.getRandomValues(new Uint8Array(1))[0] & (15 >> (t / 4)))).toString(16));\r\n\t}\r\n\tfunction v(t) {\r\n\t\treturn t && t.classList && t.classList.contains(this.settings.classNames.tag);\r\n\t}\r\n\tvar f = { delimiters: \",\", pattern: null, tagTextProp: \"value\", maxTags: 1 / 0, callbacks: {}, addTagOnBlur: !0, duplicates: !1, whitelist: [], blacklist: [], enforceWhitelist: !1, userInput: !0, keepInvalidTags: !1, mixTagsAllowedAfter: /,|\\.|\\:|\\s/, mixTagsInterpolator: [\"[[\", \"]]\"], backspace: !0, skipInvalid: !1, pasteAsTags: !0, editTags: { clicks: 2, keepInvalid: !0 }, transformTag: () => {}, trim: !0, a11y: { focusableTags: !1 }, mixMode: { insertAfterTag: \" \" }, autoComplete: { enabled: !0, rightKey: !1 }, classNames: { namespace: \"tagify\", mixMode: \"tagify--mix\", selectMode: \"tagify--select\", input: \"tagify__input\", focus: \"tagify--focus\", tagNoAnimation: \"tagify--noAnim\", tagInvalid: \"tagify--invalid\", tagNotAllowed: \"tagify--notAllowed\", scopeLoading: \"tagify--loading\", hasMaxTags: \"tagify--hasMaxTags\", hasNoTags: \"tagify--noTags\", empty: \"tagify--empty\", inputInvalid: \"tagify__input--invalid\", dropdown: \"tagify__dropdown\", dropdownWrapper: \"tagify__dropdown__wrapper\", dropdownHeader: \"tagify__dropdown__header\", dropdownFooter: \"tagify__dropdown__footer\", dropdownItem: \"tagify__dropdown__item\", dropdownItemActive: \"tagify__dropdown__item--active\", dropdownInital: \"tagify__dropdown--initial\", tag: \"tagify__tag\", tagText: \"tagify__tag-text\", tagX: \"tagify__tag__removeBtn\", tagLoading: \"tagify__tag--loading\", tagEditing: \"tagify__tag--editable\", tagFlash: \"tagify__tag--flash\", tagHide: \"tagify__tag--hide\" }, dropdown: { classname: \"\", enabled: 2, maxItems: 10, searchKeys: [\"value\", \"searchBy\"], fuzzySearch: !0, caseSensitive: !1, accentedSearch: !0, highlightFirst: !1, closeOnSelect: !0, clearOnSelect: !0, position: \"all\", appendTarget: null }, hooks: { beforeRemoveTag: () => Promise.resolve(), beforePaste: () => Promise.resolve(), suggestionClick: () => Promise.resolve() } };\r\n\tfunction T() {\r\n\t\tthis.dropdown = {};\r\n\t\tfor (let t in this._dropdown) this.dropdown[t] = \"function\" == typeof this._dropdown[t] ? this._dropdown[t].bind(this) : this._dropdown[t];\r\n\t\tthis.dropdown.refs();\r\n\t}\r\n\tvar w = {\r\n\t\trefs() {\r\n\t\t\t(this.DOM.dropdown = this.parseTemplate(\"dropdown\", [this.settings])), (this.DOM.dropdown.content = this.DOM.dropdown.querySelector(\"[data-selector='tagify-dropdown-wrapper']\"));\r\n\t\t},\r\n\t\tshow(t) {\r\n\t\t\tvar e,\r\n\t\t\t\ti,\r\n\t\t\t\ta,\r\n\t\t\t\tn = this.settings,\r\n\t\t\t\to = \"mix\" == n.mode && !n.enforceWhitelist,\r\n\t\t\t\tr = !n.whitelist || !n.whitelist.length,\r\n\t\t\t\tl = \"manual\" == n.dropdown.position;\r\n\t\t\tif (((t = void 0 === t ? this.state.inputText : t), (!r || o || n.templates.dropdownItemNoMatch) && !1 !== n.dropdown.enable && !this.state.isLoading)) {\r\n\t\t\t\tif ((clearTimeout(this.dropdownHide__bindEventsTimeout), (this.suggestedListItems = this.dropdown.filterListItems(t)), t && !this.suggestedListItems.length && (this.trigger(\"dropdown:noMatch\", t), n.templates.dropdownItemNoMatch && (a = n.templates.dropdownItemNoMatch.call(this, { value: t }))), !a)) {\r\n\t\t\t\t\tif (this.suggestedListItems.length) t && o && !this.state.editing.scope && !s(this.suggestedListItems[0].value, t) && this.suggestedListItems.unshift({ value: t });\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tif (!t || !o || this.state.editing.scope) return this.input.autocomplete.suggest.call(this), void this.dropdown.hide();\r\n\t\t\t\t\t\tthis.suggestedListItems = [{ value: t }];\r\n\t\t\t\t\t}\r\n\t\t\t\t\t(i = \"\" + (h((e = this.suggestedListItems[0])) ? e.value : e)), n.autoComplete && i && 0 == i.indexOf(t) && this.input.autocomplete.suggest.call(this, e);\r\n\t\t\t\t}\r\n\t\t\t\tthis.dropdown.fill(a),\r\n\t\t\t\t\tn.dropdown.highlightFirst && this.dropdown.highlightOption(this.DOM.dropdown.content.children[0]),\r\n\t\t\t\t\tthis.state.dropdown.visible || setTimeout(this.dropdown.events.binding.bind(this)),\r\n\t\t\t\t\t(this.state.dropdown.visible = t || !0),\r\n\t\t\t\t\t(this.state.dropdown.query = t),\r\n\t\t\t\t\tthis.setStateSelection(),\r\n\t\t\t\t\tl ||\r\n\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\tthis.dropdown.position(), this.dropdown.render();\r\n\t\t\t\t\t\t}),\r\n\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\tthis.trigger(\"dropdown:show\", this.DOM.dropdown);\r\n\t\t\t\t\t});\r\n\t\t\t}\r\n\t\t},\r\n\t\thide(t) {\r\n\t\t\tvar e = this.DOM,\r\n\t\t\t\ti = e.scope,\r\n\t\t\t\ts = e.dropdown,\r\n\t\t\t\ta = \"manual\" == this.settings.dropdown.position && !t;\r\n\t\t\tif (s && document.body.contains(s) && !a)\r\n\t\t\t\treturn (\r\n\t\t\t\t\twindow.removeEventListener(\"resize\", this.dropdown.position),\r\n\t\t\t\t\tthis.dropdown.events.binding.call(this, !1),\r\n\t\t\t\t\ti.setAttribute(\"aria-expanded\", !1),\r\n\t\t\t\t\ts.parentNode.removeChild(s),\r\n\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\tthis.state.dropdown.visible = !1;\r\n\t\t\t\t\t}, 100),\r\n\t\t\t\t\t(this.state.dropdown.query = this.state.ddItemData = this.state.ddItemElm = this.state.selection = null),\r\n\t\t\t\t\tthis.state.tag && this.state.tag.value.length && (this.state.flaggedTags[this.state.tag.baseOffset] = this.state.tag),\r\n\t\t\t\t\tthis.trigger(\"dropdown:hide\", s),\r\n\t\t\t\t\tthis\r\n\t\t\t\t);\r\n\t\t},\r\n\t\ttoggle(t) {\r\n\t\t\tthis.dropdown[this.state.dropdown.visible && !t ? \"hide\" : \"show\"]();\r\n\t\t},\r\n\t\trender() {\r\n\t\t\tvar t,\r\n\t\t\t\te,\r\n\t\t\t\ti,\r\n\t\t\t\ts = ((t = this.DOM.dropdown), ((i = t.cloneNode(!0)).style.cssText = \"position:fixed; top:-9999px; opacity:0\"), document.body.appendChild(i), (e = i.clientHeight), i.parentNode.removeChild(i), e),\r\n\t\t\t\ta = this.settings;\r\n\t\t\treturn \"number\" == typeof a.dropdown.enabled && a.dropdown.enabled >= 0 ? (this.DOM.scope.setAttribute(\"aria-expanded\", !0), document.body.contains(this.DOM.dropdown) || (this.DOM.dropdown.classList.add(a.classNames.dropdownInital), this.dropdown.position(s), a.dropdown.appendTarget.appendChild(this.DOM.dropdown), setTimeout(() => this.DOM.dropdown.classList.remove(a.classNames.dropdownInital))), this) : this;\r\n\t\t},\r\n\t\tfill(t) {\r\n\t\t\tt = \"string\" == typeof t ? t : this.dropdown.createListHTML(t || this.suggestedListItems);\r\n\t\t\tvar e,\r\n\t\t\t\ti = this.settings.templates.dropdownContent.call(this, t);\r\n\t\t\tthis.DOM.dropdown.content.innerHTML = (e = i) ? e.replace(/\\>[\\r\\n ]+\\</g, \"><\").replace(/(<.*?>)|\\s+/g, (t, e) => e || \" \") : \"\";\r\n\t\t},\r\n\t\trefilter(t) {\r\n\t\t\t(t = t || this.state.dropdown.query || \"\"), (this.suggestedListItems = this.dropdown.filterListItems(t)), this.dropdown.fill(), this.suggestedListItems.length || this.dropdown.hide(), this.trigger(\"dropdown:updated\", this.DOM.dropdown);\r\n\t\t},\r\n\t\tposition(t) {\r\n\t\t\tvar e = this.settings.dropdown;\r\n\t\t\tif (\"manual\" != e.position) {\r\n\t\t\t\tvar i,\r\n\t\t\t\t\ts,\r\n\t\t\t\t\ta,\r\n\t\t\t\t\tn,\r\n\t\t\t\t\to,\r\n\t\t\t\t\tr,\r\n\t\t\t\t\tl = this.DOM.dropdown,\r\n\t\t\t\t\td = e.placeAbove,\r\n\t\t\t\t\th = document.documentElement.clientHeight,\r\n\t\t\t\t\tg = Math.max(document.documentElement.clientWidth || 0, window.innerWidth || 0) > 480 ? e.position : \"all\",\r\n\t\t\t\t\tp = this.DOM[\"input\" == g ? \"input\" : \"scope\"];\r\n\t\t\t\t(t = t || l.clientHeight),\r\n\t\t\t\t\tthis.state.dropdown.visible &&\r\n\t\t\t\t\t\t(\"text\" == g\r\n\t\t\t\t\t\t\t? ((a = (i = this.getCaretGlobalPosition()).bottom), (s = i.top), (n = i.left), (o = \"auto\"))\r\n\t\t\t\t\t\t\t: ((r = (function (t) {\r\n\t\t\t\t\t\t\t\t\tfor (var e = 0, i = 0; t; ) (e += t.offsetLeft || 0), (i += t.offsetTop || 0), (t = t.parentNode);\r\n\t\t\t\t\t\t\t\t\treturn { left: e, top: i };\r\n\t\t\t\t\t\t\t  })(this.settings.dropdown.appendTarget)),\r\n\t\t\t\t\t\t\t  (s = (i = p.getBoundingClientRect()).top - r.top),\r\n\t\t\t\t\t\t\t  (a = i.bottom - 1 - r.top),\r\n\t\t\t\t\t\t\t  (n = i.left - r.left),\r\n\t\t\t\t\t\t\t  (o = i.width + \"px\")),\r\n\t\t\t\t\t\t(s = Math.floor(s)),\r\n\t\t\t\t\t\t(a = Math.ceil(a)),\r\n\t\t\t\t\t\t(d = void 0 === d ? h - i.bottom < t : d),\r\n\t\t\t\t\t\t(l.style.cssText = \"left:\" + (n + window.pageXOffset) + \"px; width:\" + o + \";\" + (d ? \"top: \" + (s + window.pageYOffset) + \"px\" : \"top: \" + (a + window.pageYOffset) + \"px\")),\r\n\t\t\t\t\t\tl.setAttribute(\"placement\", d ? \"top\" : \"bottom\"),\r\n\t\t\t\t\t\tl.setAttribute(\"position\", g));\r\n\t\t\t}\r\n\t\t},\r\n\t\tevents: {\r\n\t\t\tbinding(t = !0) {\r\n\t\t\t\tvar e = this.dropdown.events.callbacks,\r\n\t\t\t\t\ti = (this.listeners.dropdown = this.listeners.dropdown || { position: this.dropdown.position.bind(this), onKeyDown: e.onKeyDown.bind(this), onMouseOver: e.onMouseOver.bind(this), onMouseLeave: e.onMouseLeave.bind(this), onClick: e.onClick.bind(this), onScroll: e.onScroll.bind(this) }),\r\n\t\t\t\t\ts = t ? \"addEventListener\" : \"removeEventListener\";\r\n\t\t\t\t\"manual\" != this.settings.dropdown.position && (window[s](\"resize\", i.position), window[s](\"keydown\", i.onKeyDown)), this.DOM.dropdown[s](\"mouseover\", i.onMouseOver), this.DOM.dropdown[s](\"mouseleave\", i.onMouseLeave), this.DOM.dropdown[s](\"mousedown\", i.onClick), this.DOM.dropdown.content[s](\"scroll\", i.onScroll);\r\n\t\t\t},\r\n\t\t\tcallbacks: {\r\n\t\t\t\tonKeyDown(t) {\r\n\t\t\t\t\tvar e = this.DOM.dropdown.querySelector(this.settings.classNames.dropdownItemActiveSelector),\r\n\t\t\t\t\t\ti = this.dropdown.getSuggestionDataByNode(e);\r\n\t\t\t\t\tswitch (t.key) {\r\n\t\t\t\t\t\tcase \"ArrowDown\":\r\n\t\t\t\t\t\tcase \"ArrowUp\":\r\n\t\t\t\t\t\tcase \"Down\":\r\n\t\t\t\t\t\tcase \"Up\":\r\n\t\t\t\t\t\t\tvar s;\r\n\t\t\t\t\t\t\tt.preventDefault(), e && (e = e[(\"ArrowUp\" == t.key || \"Up\" == t.key ? \"previous\" : \"next\") + \"ElementSibling\"]), e || ((s = this.DOM.dropdown.content.children), (e = s[\"ArrowUp\" == t.key || \"Up\" == t.key ? s.length - 1 : 0])), (i = this.dropdown.getSuggestionDataByNode(e)), this.dropdown.highlightOption(e, !0);\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase \"Escape\":\r\n\t\t\t\t\t\tcase \"Esc\":\r\n\t\t\t\t\t\t\tthis.dropdown.hide();\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase \"ArrowRight\":\r\n\t\t\t\t\t\t\tif (this.state.actions.ArrowLeft) return;\r\n\t\t\t\t\t\tcase \"Tab\":\r\n\t\t\t\t\t\t\tif (\"mix\" != this.settings.mode && e && !this.settings.autoComplete.rightKey && !this.state.editing) {\r\n\t\t\t\t\t\t\t\tt.preventDefault();\r\n\t\t\t\t\t\t\t\tvar a = this.dropdown.getMappedValue(i);\r\n\t\t\t\t\t\t\t\treturn this.input.autocomplete.set.call(this, a), !1;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\treturn !0;\r\n\t\t\t\t\t\tcase \"Enter\":\r\n\t\t\t\t\t\t\tt.preventDefault(),\r\n\t\t\t\t\t\t\t\tthis.settings.hooks\r\n\t\t\t\t\t\t\t\t\t.suggestionClick(t, { tagify: this, tagData: i, suggestionElm: e })\r\n\t\t\t\t\t\t\t\t\t.then(() => {\r\n\t\t\t\t\t\t\t\t\t\tif (e) return this.dropdown.selectOption(e);\r\n\t\t\t\t\t\t\t\t\t\tthis.dropdown.hide(), \"mix\" != this.settings.mode && this.addTags(this.state.inputText.trim(), !0);\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t.catch((t) => t);\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase \"Backspace\": {\r\n\t\t\t\t\t\t\tif (\"mix\" == this.settings.mode || this.state.editing.scope) return;\r\n\t\t\t\t\t\t\tconst t = this.input.raw.call(this);\r\n\t\t\t\t\t\t\t(\"\" != t && 8203 != t.charCodeAt(0)) || (!0 === this.settings.backspace ? this.removeTags() : \"edit\" == this.settings.backspace && setTimeout(this.editTag.bind(this), 0));\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tonMouseOver(t) {\r\n\t\t\t\t\tvar e = t.target.closest(this.settings.classNames.dropdownItemSelector);\r\n\t\t\t\t\te && this.dropdown.highlightOption(e);\r\n\t\t\t\t},\r\n\t\t\t\tonMouseLeave(t) {\r\n\t\t\t\t\tthis.dropdown.highlightOption();\r\n\t\t\t\t},\r\n\t\t\t\tonClick(t) {\r\n\t\t\t\t\tif (0 == t.button && t.target != this.DOM.dropdown && t.target != this.DOM.dropdown.content) {\r\n\t\t\t\t\t\tvar e = t.target.closest(this.settings.classNames.dropdownItemSelector),\r\n\t\t\t\t\t\t\ti = this.dropdown.getSuggestionDataByNode(e);\r\n\t\t\t\t\t\t(this.state.actions.selectOption = !0),\r\n\t\t\t\t\t\t\tsetTimeout(() => (this.state.actions.selectOption = !1), 50),\r\n\t\t\t\t\t\t\tthis.settings.hooks\r\n\t\t\t\t\t\t\t\t.suggestionClick(t, { tagify: this, tagData: i, suggestionElm: e })\r\n\t\t\t\t\t\t\t\t.then(() => {\r\n\t\t\t\t\t\t\t\t\te ? this.dropdown.selectOption(e) : this.dropdown.hide();\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t.catch((t) => console.warn(t));\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tonScroll(t) {\r\n\t\t\t\t\tvar e = t.target,\r\n\t\t\t\t\t\ti = (e.scrollTop / (e.scrollHeight - e.parentNode.clientHeight)) * 100;\r\n\t\t\t\t\tthis.trigger(\"dropdown:scroll\", { percentage: Math.round(i) });\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t},\r\n\t\tgetSuggestionDataByNode(t) {\r\n\t\t\tvar e = t ? +t.getAttribute(\"tagifySuggestionIdx\") : -1;\r\n\t\t\treturn this.suggestedListItems[e] || null;\r\n\t\t},\r\n\t\thighlightOption(t, e) {\r\n\t\t\tvar i,\r\n\t\t\t\ts = this.settings.classNames.dropdownItemActive;\r\n\t\t\tif ((this.state.ddItemElm && (this.state.ddItemElm.classList.remove(s), this.state.ddItemElm.removeAttribute(\"aria-selected\")), !t)) return (this.state.ddItemData = null), (this.state.ddItemElm = null), void this.input.autocomplete.suggest.call(this);\r\n\t\t\t(i = this.suggestedListItems[this.getNodeIndex(t)]), (this.state.ddItemData = i), (this.state.ddItemElm = t), t.classList.add(s), t.setAttribute(\"aria-selected\", !0), e && (t.parentNode.scrollTop = t.clientHeight + t.offsetTop - t.parentNode.clientHeight), this.settings.autoComplete && (this.input.autocomplete.suggest.call(this, i), this.dropdown.position());\r\n\t\t},\r\n\t\tselectOption(t) {\r\n\t\t\tvar e = this.settings.dropdown,\r\n\t\t\t\ti = e.clearOnSelect,\r\n\t\t\t\ts = e.closeOnSelect;\r\n\t\t\tif (!t) return this.addTags(this.state.inputText, !0), void (s && this.dropdown.hide());\r\n\t\t\tvar a = t.getAttribute(\"tagifySuggestionIdx\"),\r\n\t\t\t\tn = this.suggestedListItems[+a];\r\n\t\t\tthis.trigger(\"dropdown:select\", { data: n, elm: t }),\r\n\t\t\t\ta && n\r\n\t\t\t\t\t? (this.state.editing ? this.onEditTagDone(null, g({ __isValid: !0 }, this.normalizeTags([n])[0])) : this[\"mix\" == this.settings.mode ? \"addMixTags\" : \"addTags\"]([n], i),\r\n\t\t\t\t\t  this.DOM.input.parentNode &&\r\n\t\t\t\t\t\t\t(setTimeout(() => {\r\n\t\t\t\t\t\t\t\tthis.DOM.input.focus(), this.toggleFocusClass(!0);\r\n\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t\ts ? setTimeout(this.dropdown.hide.bind(this)) : this.dropdown.refilter()))\r\n\t\t\t\t\t: this.dropdown.hide();\r\n\t\t},\r\n\t\tselectAll(t) {\r\n\t\t\t(this.suggestedListItems.length = 0), this.dropdown.hide(), this.dropdown.filterListItems(\"\");\r\n\t\t\tvar e = this.dropdown.filterListItems(\"\");\r\n\t\t\treturn t || (e = this.state.dropdown.suggestions), this.addTags(e, !0), this;\r\n\t\t},\r\n\t\tfilterListItems(t, e) {\r\n\t\t\tvar i,\r\n\t\t\t\ts,\r\n\t\t\t\ta,\r\n\t\t\t\tn,\r\n\t\t\t\to,\r\n\t\t\t\tr = this.settings,\r\n\t\t\t\tl = r.dropdown,\r\n\t\t\t\td = ((e = e || {}), (t = \"select\" == r.mode && this.value.length && this.value[0][r.tagTextProp] == t ? \"\" : t), []),\r\n\t\t\t\tg = [],\r\n\t\t\t\tp = r.whitelist,\r\n\t\t\t\tu = l.maxItems >= 0 ? l.maxItems : 1 / 0,\r\n\t\t\t\tm = l.searchKeys,\r\n\t\t\t\tv = 0;\r\n\t\t\tif (!t || !m.length) return (d = r.duplicates ? p : p.filter((t) => !this.isTagDuplicate(h(t) ? t.value : t))), (this.state.dropdown.suggestions = d), d.slice(0, u);\r\n\t\t\tfunction f(t, e) {\r\n\t\t\t\treturn e\r\n\t\t\t\t\t.toLowerCase()\r\n\t\t\t\t\t.split(\" \")\r\n\t\t\t\t\t.every((e) => t.includes(e.toLowerCase()));\r\n\t\t\t}\r\n\t\t\tfor (o = l.caseSensitive ? \"\" + t : (\"\" + t).toLowerCase(); v < p.length; v++) {\r\n\t\t\t\tlet t, u;\r\n\t\t\t\ti = p[v] instanceof Object ? p[v] : { value: p[v] };\r\n\t\t\t\tlet T = !Object.keys(i).some((t) => m.includes(t)) ? [\"value\"] : m;\r\n\t\t\t\tl.fuzzySearch && !e.exact\r\n\t\t\t\t\t? ((a = T.reduce((t, e) => t + \" \" + (i[e] || \"\"), \"\")\r\n\t\t\t\t\t\t\t.toLowerCase()\r\n\t\t\t\t\t\t\t.trim()),\r\n\t\t\t\t\t  l.accentedSearch && ((a = c(a)), (o = c(o))),\r\n\t\t\t\t\t  (t = 0 == a.indexOf(o)),\r\n\t\t\t\t\t  (u = a === o),\r\n\t\t\t\t\t  (s = f(a, o)))\r\n\t\t\t\t\t: ((t = !0),\r\n\t\t\t\t\t  (s = T.some((t) => {\r\n\t\t\t\t\t\t\tvar s = \"\" + (i[t] || \"\");\r\n\t\t\t\t\t\t\treturn l.accentedSearch && ((s = c(s)), (o = c(o))), l.caseSensitive || (s = s.toLowerCase()), (u = s === o), e.exact ? s === o : 0 == s.indexOf(o);\r\n\t\t\t\t\t  }))),\r\n\t\t\t\t\t(n = !r.duplicates && this.isTagDuplicate(h(i) ? i.value : i)),\r\n\t\t\t\t\ts && !n && (u && t ? g.push(i) : \"startsWith\" == l.sortby && t ? d.unshift(i) : d.push(i));\r\n\t\t\t}\r\n\t\t\treturn (this.state.dropdown.suggestions = g.concat(d)), \"function\" == typeof l.sortby ? l.sortby(g.concat(d), o) : g.concat(d).slice(0, u);\r\n\t\t},\r\n\t\tgetMappedValue(t) {\r\n\t\t\tvar e = this.settings.dropdown.mapValueTo;\r\n\t\t\treturn e ? (\"function\" == typeof e ? e(t) : t[e] || t.value) : t.value;\r\n\t\t},\r\n\t\tcreateListHTML(t) {\r\n\t\t\treturn g([], t)\r\n\t\t\t\t.map((t, e) => {\r\n\t\t\t\t\t(\"string\" != typeof t && \"number\" != typeof t) || (t = { value: t });\r\n\t\t\t\t\tvar i = this.dropdown.getMappedValue(t);\r\n\t\t\t\t\tt.value = \"string\" == typeof i ? d(i) : i;\r\n\t\t\t\t\tvar s = this.settings.templates.dropdownItem.apply(this, [t, this]);\r\n\t\t\t\t\treturn (s = s.replace(/\\s*tagifySuggestionIdx=([\"'])(.*?)\\1/gim, \"\").replace(\">\", ` tagifySuggestionIdx=\"${e}\">`));\r\n\t\t\t\t})\r\n\t\t\t\t.join(\"\");\r\n\t\t},\r\n\t};\r\n\tconst b = \"@yaireo/tagify/\";\r\n\tvar y,\r\n\t\tx = { empty: \"empty\", exceed: \"number of tags exceeded\", pattern: \"pattern mismatch\", duplicate: \"already exists\", notAllowed: \"not allowed\" },\r\n\t\tD = {\r\n\t\t\twrapper: (t, e) => `<tags class=\"${e.classNames.namespace} ${e.mode ? `${e.classNames[e.mode + \"Mode\"]}` : \"\"} ${t.className}\"\\n                    ${e.readonly ? \"readonly\" : \"\"}\\n                    ${e.disabled ? \"disabled\" : \"\"}\\n                    ${e.required ? \"required\" : \"\"}\\n                    ${\"select\" === e.mode ? \"spellcheck='false'\" : \"\"}\\n                    tabIndex=\"-1\">\\n            <span ${!e.readonly && e.userInput ? \"contenteditable\" : \"\"} tabIndex=\"0\" data-placeholder=\"${e.placeholder || \"&#8203;\"}\" aria-placeholder=\"${e.placeholder || \"\"}\"\\n                class=\"${e.classNames.input}\"\\n                role=\"textbox\"\\n                aria-autocomplete=\"both\"\\n                aria-multiline=\"${\"mix\" == e.mode}\"></span>\\n                &#8203;\\n        </tags>`,\r\n\t\t\ttag(t, e) {\r\n\t\t\t\tvar i = this.settings;\r\n\t\t\t\treturn `<tag title=\"${t.title || t.value}\"\\n                    contenteditable='false'\\n                    spellcheck='false'\\n                    tabIndex=\"${i.a11y.focusableTags ? 0 : -1}\"\\n                    class=\"${i.classNames.tag} ${t.class || \"\"}\"\\n                    ${this.getAttributes(t)}>\\n            <x title='' class=\"${i.classNames.tagX}\" role='button' aria-label='remove tag'></x>\\n            <div>\\n                <span class=\"${i.classNames.tagText}\">${t[i.tagTextProp] || t.value}</span>\\n            </div>\\n        </tag>`;\r\n\t\t\t},\r\n\t\t\tdropdown(t) {\r\n\t\t\t\tvar e = t.dropdown,\r\n\t\t\t\t\ti = \"manual\" == e.position,\r\n\t\t\t\t\ts = `${t.classNames.dropdown}`;\r\n\t\t\t\treturn `<div class=\"${i ? \"\" : s} ${e.classname}\" role=\"listbox\" aria-labelledby=\"dropdown\">\\n                    <div data-selector='tagify-dropdown-wrapper' class=\"${t.classNames.dropdownWrapper}\"></div>\\n                </div>`;\r\n\t\t\t},\r\n\t\t\tdropdownContent(t) {\r\n\t\t\t\tvar e = this.settings,\r\n\t\t\t\t\ti = this.state.dropdown.suggestions;\r\n\t\t\t\treturn `\\n            ${e.templates.dropdownHeader.call(this, i)}\\n            ${t}\\n            ${e.templates.dropdownFooter.call(this, i)}\\n        `;\r\n\t\t\t},\r\n\t\t\tdropdownItem(t, e) {\r\n\t\t\t\treturn `<div ${this.getAttributes(t)}\\n                    class='${this.settings.classNames.dropdownItem} ${t.class ? t.class : \"\"}'\\n                    tabindex=\"0\"\\n                    role=\"option\">${t.value}</div>`;\r\n\t\t\t},\r\n\t\t\tdropdownHeader: (t) => \"\",\r\n\t\t\tdropdownFooter(t) {\r\n\t\t\t\tvar e = t.length - this.settings.dropdown.maxItems;\r\n\t\t\t\treturn e > 0 ? `<footer data-selector='tagify-suggestions-footer' class=\"${this.settings.classNames.dropdownFooter}\">\\n                ${e} more items. Refine your search.\\n            </footer>` : \"\";\r\n\t\t\t},\r\n\t\t\tdropdownItemNoMatch: null,\r\n\t\t};\r\n\tvar O = {\r\n\t\tcustomBinding() {\r\n\t\t\tthis.customEventsList.forEach((t) => {\r\n\t\t\t\tthis.on(t, this.settings.callbacks[t]);\r\n\t\t\t});\r\n\t\t},\r\n\t\tbinding(t = !0) {\r\n\t\t\tvar e,\r\n\t\t\t\ti = this.events.callbacks,\r\n\t\t\t\ts = t ? \"addEventListener\" : \"removeEventListener\";\r\n\t\t\tif (!this.state.mainEvents || !t) {\r\n\t\t\t\tfor (var a in ((this.state.mainEvents = t), t && !this.listeners.main && (this.events.bindGlobal.call(this), this.settings.isJQueryPlugin && jQuery(this.DOM.originalInput).on(\"tagify.removeAllTags\", this.removeAllTags.bind(this))), (e = this.listeners.main = this.listeners.main || { focus: [\"input\", i.onFocusBlur.bind(this)], keydown: [\"input\", i.onKeydown.bind(this)], click: [\"scope\", i.onClickScope.bind(this)], dblclick: [\"scope\", i.onDoubleClickScope.bind(this)], paste: [\"input\", i.onPaste.bind(this)], drop: [\"input\", i.onDrop.bind(this)] }))) this.DOM[e[a][0]][s](a, e[a][1]);\r\n\t\t\t\tclearInterval(this.listeners.main.originalInputValueObserverInterval), (this.listeners.main.originalInputValueObserverInterval = setInterval(i.observeOriginalInputValue.bind(this), 500));\r\n\t\t\t\tvar n = this.listeners.main.inputMutationObserver || new MutationObserver(i.onInputDOMChange.bind(this));\r\n\t\t\t\tn && n.disconnect(), \"mix\" == this.settings.mode && n.observe(this.DOM.input, { childList: !0 });\r\n\t\t\t}\r\n\t\t},\r\n\t\tbindGlobal(t) {\r\n\t\t\tvar e,\r\n\t\t\t\ti = this.events.callbacks,\r\n\t\t\t\ts = t ? \"removeEventListener\" : \"addEventListener\";\r\n\t\t\tif (t || !this.listeners.global)\r\n\t\t\t\tfor (e of ((this.listeners.global = (this.listeners && this.listeners.global) || [\r\n\t\t\t\t\t{ type: this.isIE ? \"keydown\" : \"input\", target: this.DOM.input, cb: i[this.isIE ? \"onInputIE\" : \"onInput\"].bind(this) },\r\n\t\t\t\t\t{ type: \"keydown\", target: window, cb: i.onWindowKeyDown.bind(this) },\r\n\t\t\t\t\t{ type: \"blur\", target: this.DOM.input, cb: i.onFocusBlur.bind(this) },\r\n\t\t\t\t]),\r\n\t\t\t\tthis.listeners.global))\r\n\t\t\t\t\te.target[s](e.type, e.cb);\r\n\t\t},\r\n\t\tunbindGlobal() {\r\n\t\t\tthis.events.bindGlobal.call(this, !0);\r\n\t\t},\r\n\t\tcallbacks: {\r\n\t\t\tonFocusBlur(t) {\r\n\t\t\t\tvar e = t.target ? this.trim(t.target.textContent) : \"\",\r\n\t\t\t\t\ti = this.settings,\r\n\t\t\t\t\ts = t.type,\r\n\t\t\t\t\ta = i.dropdown.enabled >= 0,\r\n\t\t\t\t\tn = { relatedTarget: t.relatedTarget },\r\n\t\t\t\t\to = this.state.actions.selectOption && (a || !i.dropdown.closeOnSelect),\r\n\t\t\t\t\tr = this.state.actions.addNew && a,\r\n\t\t\t\t\tl = t.relatedTarget && v.call(this, t.relatedTarget) && this.DOM.scope.contains(t.relatedTarget);\r\n\t\t\t\tif (\"blur\" == s) {\r\n\t\t\t\t\tif (t.relatedTarget === this.DOM.scope) return this.dropdown.hide(), void this.DOM.input.focus();\r\n\t\t\t\t\tthis.postUpdate(), this.triggerChangeEvent();\r\n\t\t\t\t}\r\n\t\t\t\tif (!o && !r)\r\n\t\t\t\t\tif (((this.state.hasFocus = \"focus\" == s && +new Date()), this.toggleFocusClass(this.state.hasFocus), \"mix\" != i.mode)) {\r\n\t\t\t\t\t\tif (\"focus\" == s) return this.trigger(\"focus\", n), void ((0 !== i.dropdown.enabled && i.userInput) || this.dropdown.show(this.value.length ? \"\" : void 0));\r\n\t\t\t\t\t\tif (\"blur\" == s) {\r\n\t\t\t\t\t\t\tvar d, h;\r\n\t\t\t\t\t\t\tthis.trigger(\"blur\", n), this.loading(!1);\r\n\t\t\t\t\t\t\tlet t = i.enforceWhitelist ? !!this.getWhitelistItem(null === (d = this.value) || void 0 === d || null === (h = d[0]) || void 0 === h ? void 0 : h.value) : i.keepInvalidTags;\r\n\t\t\t\t\t\t\t\"select\" == this.settings.mode && l && (e = \"\"), \"select\" !== this.settings.mode && e && !this.state.actions.selectOption && i.addTagOnBlur && this.addTags(e, !0), \"select\" != this.settings.mode || (e && t) || this.removeTags();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.DOM.input.removeAttribute(\"style\"), this.dropdown.hide();\r\n\t\t\t\t\t} else \"focus\" == s ? this.trigger(\"focus\", n) : \"blur\" == t.type && (this.trigger(\"blur\", n), this.loading(!1), this.dropdown.hide(), (this.state.dropdown.visible = void 0), this.setStateSelection());\r\n\t\t\t},\r\n\t\t\tonWindowKeyDown(t) {\r\n\t\t\t\tvar e,\r\n\t\t\t\t\ti = document.activeElement;\r\n\t\t\t\tif (v.call(this, i) && this.DOM.scope.contains(document.activeElement))\r\n\t\t\t\t\tswitch (((e = i.nextElementSibling), t.key)) {\r\n\t\t\t\t\t\tcase \"Backspace\":\r\n\t\t\t\t\t\t\tthis.settings.readonly || (this.removeTags(i), (e || this.DOM.input).focus());\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase \"Enter\":\r\n\t\t\t\t\t\t\tsetTimeout(this.editTag.bind(this), 0, i);\r\n\t\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tonKeydown(t) {\r\n\t\t\t\tvar e = this.settings;\r\n\t\t\t\t\"select\" == e.mode && e.enforceWhitelist && this.value.length && \"Tab\" != t.key && t.preventDefault();\r\n\t\t\t\tvar i = this.trim(t.target.textContent);\r\n\t\t\t\tif ((this.trigger(\"keydown\", { originalEvent: this.cloneEvent(t) }), \"mix\" == e.mode)) {\r\n\t\t\t\t\tswitch (t.key) {\r\n\t\t\t\t\t\tcase \"Left\":\r\n\t\t\t\t\t\tcase \"ArrowLeft\":\r\n\t\t\t\t\t\t\tthis.state.actions.ArrowLeft = !0;\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase \"Delete\":\r\n\t\t\t\t\t\tcase \"Backspace\":\r\n\t\t\t\t\t\t\tif (this.state.editing) return;\r\n\t\t\t\t\t\t\tvar s,\r\n\t\t\t\t\t\t\t\ta,\r\n\t\t\t\t\t\t\t\tn,\r\n\t\t\t\t\t\t\t\tr = document.getSelection(),\r\n\t\t\t\t\t\t\t\td = \"Delete\" == t.key && r.anchorOffset == (r.anchorNode.length || 0),\r\n\t\t\t\t\t\t\t\th = r.anchorNode.previousSibling,\r\n\t\t\t\t\t\t\t\tg = 1 == r.anchorNode.nodeType || (!r.anchorOffset && h && 1 == h.nodeType && r.anchorNode.previousSibling),\r\n\t\t\t\t\t\t\t\tp = o(this.DOM.input.innerHTML),\r\n\t\t\t\t\t\t\t\tc = this.getTagElms();\r\n\t\t\t\t\t\t\tif (\"edit\" == e.backspace && g) return (s = 1 == r.anchorNode.nodeType ? null : r.anchorNode.previousElementSibling), setTimeout(this.editTag.bind(this), 0, s), void t.preventDefault();\r\n\t\t\t\t\t\t\tif (u() && g)\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t(n = l(g)),\r\n\t\t\t\t\t\t\t\t\tg.hasAttribute(\"readonly\") || g.remove(),\r\n\t\t\t\t\t\t\t\t\tthis.DOM.input.focus(),\r\n\t\t\t\t\t\t\t\t\tvoid setTimeout(() => {\r\n\t\t\t\t\t\t\t\t\t\tthis.placeCaretAfterNode(n), this.DOM.input.click();\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\tif (\"BR\" == r.anchorNode.nodeName) return;\r\n\t\t\t\t\t\t\tif (((d || g) && 1 == r.anchorNode.nodeType ? (a = 0 == r.anchorOffset ? (d ? c[0] : null) : c[r.anchorOffset - 1]) : d ? (a = r.anchorNode.nextElementSibling) : g && (a = g), 3 == r.anchorNode.nodeType && !r.anchorNode.nodeValue && r.anchorNode.previousElementSibling && t.preventDefault(), (g || d) && !e.backspace)) return void t.preventDefault();\r\n\t\t\t\t\t\t\tif (\"Range\" != r.type && !r.anchorOffset && r.anchorNode == this.DOM.input && \"Delete\" != t.key) return void t.preventDefault();\r\n\t\t\t\t\t\t\tif (\"Range\" != r.type && a && a.hasAttribute(\"readonly\")) return void this.placeCaretAfterNode(l(a));\r\n\t\t\t\t\t\t\tclearTimeout(y),\r\n\t\t\t\t\t\t\t\t(y = setTimeout(() => {\r\n\t\t\t\t\t\t\t\t\tvar t = document.getSelection(),\r\n\t\t\t\t\t\t\t\t\t\te = o(this.DOM.input.innerHTML),\r\n\t\t\t\t\t\t\t\t\t\ti = !d && t.anchorNode.previousSibling;\r\n\t\t\t\t\t\t\t\t\tif (e.length >= p.length && i)\r\n\t\t\t\t\t\t\t\t\t\tif (v.call(this, i) && !i.hasAttribute(\"readonly\")) {\r\n\t\t\t\t\t\t\t\t\t\t\tif ((this.removeTags(i), this.fixFirefoxLastTagNoCaret(), 2 == this.DOM.input.children.length && \"BR\" == this.DOM.input.children[1].tagName)) return (this.DOM.input.innerHTML = \"\"), (this.value.length = 0), !0;\r\n\t\t\t\t\t\t\t\t\t\t} else i.remove();\r\n\t\t\t\t\t\t\t\t\tthis.value = [].map\r\n\t\t\t\t\t\t\t\t\t\t.call(c, (t, e) => {\r\n\t\t\t\t\t\t\t\t\t\t\tvar i = this.tagData(t);\r\n\t\t\t\t\t\t\t\t\t\t\tif (t.parentNode || i.readonly) return i;\r\n\t\t\t\t\t\t\t\t\t\t\tthis.trigger(\"remove\", { tag: t, index: e, data: i });\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t.filter((t) => t);\r\n\t\t\t\t\t\t\t\t}, 20));\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn !0;\r\n\t\t\t\t}\r\n\t\t\t\tswitch (t.key) {\r\n\t\t\t\t\tcase \"Backspace\":\r\n\t\t\t\t\t\t\"select\" == e.mode && e.enforceWhitelist && this.value.length ? this.removeTags() : (this.state.dropdown.visible && \"manual\" != e.dropdown.position) || (\"\" != t.target.textContent && 8203 != i.charCodeAt(0)) || (!0 === e.backspace ? this.removeTags() : \"edit\" == e.backspace && setTimeout(this.editTag.bind(this), 0));\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"Esc\":\r\n\t\t\t\t\tcase \"Escape\":\r\n\t\t\t\t\t\tif (this.state.dropdown.visible) return;\r\n\t\t\t\t\t\tt.target.blur();\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"Down\":\r\n\t\t\t\t\tcase \"ArrowDown\":\r\n\t\t\t\t\t\tthis.state.dropdown.visible || this.dropdown.show();\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"ArrowRight\": {\r\n\t\t\t\t\t\tlet t = this.state.inputSuggestion || this.state.ddItemData;\r\n\t\t\t\t\t\tif (t && e.autoComplete.rightKey) return void this.addTags([t], !0);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tcase \"Tab\": {\r\n\t\t\t\t\t\tlet s = \"select\" == e.mode;\r\n\t\t\t\t\t\tif (!i || s) return !0;\r\n\t\t\t\t\t\tt.preventDefault();\r\n\t\t\t\t\t}\r\n\t\t\t\t\tcase \"Enter\":\r\n\t\t\t\t\t\tif (this.state.dropdown.visible || 229 == t.keyCode) return;\r\n\t\t\t\t\t\tt.preventDefault(),\r\n\t\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\t\tthis.state.actions.selectOption || this.addTags(i, !0);\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tonInput(t) {\r\n\t\t\t\tif ((this.postUpdate(), \"mix\" == this.settings.mode)) return this.events.callbacks.onMixTagsInput.call(this, t);\r\n\t\t\t\tvar e = this.input.normalize.call(this),\r\n\t\t\t\t\ti = e.length >= this.settings.dropdown.enabled,\r\n\t\t\t\t\ts = { value: e, inputElm: this.DOM.input };\r\n\t\t\t\t(s.isValid = this.validateTag({ value: e })), this.state.inputText != e && (this.input.set.call(this, e, !1), -1 != e.search(this.settings.delimiters) ? this.addTags(e) && this.input.set.call(this) : this.settings.dropdown.enabled >= 0 && this.dropdown[i ? \"show\" : \"hide\"](e), this.trigger(\"input\", s));\r\n\t\t\t},\r\n\t\t\tonMixTagsInput(t) {\r\n\t\t\t\tvar e,\r\n\t\t\t\t\ti,\r\n\t\t\t\t\ts,\r\n\t\t\t\t\ta,\r\n\t\t\t\t\tn,\r\n\t\t\t\t\to,\r\n\t\t\t\t\tr,\r\n\t\t\t\t\tl,\r\n\t\t\t\t\td = this.settings,\r\n\t\t\t\t\th = this.value.length,\r\n\t\t\t\t\tp = this.getTagElms(),\r\n\t\t\t\t\tc = document.createDocumentFragment(),\r\n\t\t\t\t\tm = window.getSelection().getRangeAt(0),\r\n\t\t\t\t\tv = [].map.call(p, (t) => this.tagData(t).value);\r\n\t\t\t\tif (\r\n\t\t\t\t\t(\"deleteContentBackward\" == t.inputType && u() && this.events.callbacks.onKeydown.call(this, { target: t.target, key: \"Backspace\" }),\r\n\t\t\t\t\tthis.value.slice().forEach((t) => {\r\n\t\t\t\t\t\tt.readonly && !v.includes(t.value) && c.appendChild(this.createTagElem(t));\r\n\t\t\t\t\t}),\r\n\t\t\t\t\tc.childNodes.length && (m.insertNode(c), this.setRangeAtStartEnd(!1, c.lastChild)),\r\n\t\t\t\t\tp.length != h)\r\n\t\t\t\t)\r\n\t\t\t\t\treturn (this.value = [].map.call(this.getTagElms(), (t) => this.tagData(t))), void this.update({ withoutChangeEvent: !0 });\r\n\t\t\t\tif (this.hasMaxTags()) return !0;\r\n\t\t\t\tif (window.getSelection && (o = window.getSelection()).rangeCount > 0 && 3 == o.anchorNode.nodeType) {\r\n\t\t\t\t\tif (((m = o.getRangeAt(0).cloneRange()).collapse(!0), m.setStart(o.focusNode, 0), (s = (e = m.toString().slice(0, m.endOffset)).split(d.pattern).length - 1), (i = e.match(d.pattern)) && (a = e.slice(e.lastIndexOf(i[i.length - 1]))), a)) {\r\n\t\t\t\t\t\tif (((this.state.actions.ArrowLeft = !1), (this.state.tag = { prefix: a.match(d.pattern)[0], value: a.replace(d.pattern, \"\") }), (this.state.tag.baseOffset = o.baseOffset - this.state.tag.value.length), (l = this.state.tag.value.match(d.delimiters)))) return (this.state.tag.value = this.state.tag.value.replace(d.delimiters, \"\")), (this.state.tag.delimiters = l[0]), this.addTags(this.state.tag.value, d.dropdown.clearOnSelect), void this.dropdown.hide();\r\n\t\t\t\t\t\tn = this.state.tag.value.length >= d.dropdown.enabled;\r\n\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\t(r = (r = this.state.flaggedTags[this.state.tag.baseOffset]).prefix == this.state.tag.prefix && r.value[0] == this.state.tag.value[0]), this.state.flaggedTags[this.state.tag.baseOffset] && !this.state.tag.value && delete this.state.flaggedTags[this.state.tag.baseOffset];\r\n\t\t\t\t\t\t} catch (t) {}\r\n\t\t\t\t\t\t(r || s < this.state.mixMode.matchedPatternCount) && (n = !1);\r\n\t\t\t\t\t} else this.state.flaggedTags = {};\r\n\t\t\t\t\tthis.state.mixMode.matchedPatternCount = s;\r\n\t\t\t\t}\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tthis.update({ withoutChangeEvent: !0 }), this.trigger(\"input\", g({}, this.state.tag, { textContent: this.DOM.input.textContent })), this.state.tag && this.dropdown[n ? \"show\" : \"hide\"](this.state.tag.value);\r\n\t\t\t\t}, 10);\r\n\t\t\t},\r\n\t\t\tonInputIE(t) {\r\n\t\t\t\tvar e = this;\r\n\t\t\t\tsetTimeout(function () {\r\n\t\t\t\t\te.events.callbacks.onInput.call(e, t);\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tobserveOriginalInputValue() {\r\n\t\t\t\tthis.DOM.originalInput.value != this.DOM.originalInput.tagifyValue && this.loadOriginalValues();\r\n\t\t\t},\r\n\t\t\tonClickScope(t) {\r\n\t\t\t\tvar e = this.settings,\r\n\t\t\t\t\ti = t.target.closest(\".\" + e.classNames.tag),\r\n\t\t\t\t\ts = +new Date() - this.state.hasFocus;\r\n\t\t\t\tif (t.target != this.DOM.scope) {\r\n\t\t\t\t\tif (!t.target.classList.contains(e.classNames.tagX)) return i ? (this.trigger(\"click\", { tag: i, index: this.getNodeIndex(i), data: this.tagData(i), originalEvent: this.cloneEvent(t) }), void ((1 !== e.editTags && 1 !== e.editTags.clicks) || this.events.callbacks.onDoubleClickScope.call(this, t))) : void (t.target == this.DOM.input && (\"mix\" == e.mode && this.fixFirefoxLastTagNoCaret(), s > 500) ? (this.state.dropdown.visible ? this.dropdown.hide() : 0 === e.dropdown.enabled && \"mix\" != e.mode && this.dropdown.show(this.value.length ? \"\" : void 0)) : \"select\" == e.mode && !this.state.dropdown.visible && this.dropdown.show());\r\n\t\t\t\t\tthis.removeTags(t.target.parentNode);\r\n\t\t\t\t} else this.state.hasFocus || this.DOM.input.focus();\r\n\t\t\t},\r\n\t\t\tonPaste(t) {\r\n\t\t\t\tt.preventDefault();\r\n\t\t\t\tvar e,\r\n\t\t\t\t\ti,\r\n\t\t\t\t\ts = this.settings;\r\n\t\t\t\tif ((\"select\" == s.mode && s.enforceWhitelist) || !s.userInput) return !1;\r\n\t\t\t\ts.readonly ||\r\n\t\t\t\t\t((e = t.clipboardData || window.clipboardData),\r\n\t\t\t\t\t(i = e.getData(\"Text\")),\r\n\t\t\t\t\ts.hooks\r\n\t\t\t\t\t\t.beforePaste(t, { tagify: this, pastedText: i, clipboardData: e })\r\n\t\t\t\t\t\t.then((e) => {\r\n\t\t\t\t\t\t\tvoid 0 === e && (e = i), e && (this.injectAtCaret(e, window.getSelection().getRangeAt(0)), \"mix\" == this.settings.mode ? this.events.callbacks.onMixTagsInput.call(this, t) : this.settings.pasteAsTags ? this.addTags(this.state.inputText + e, !0) : (this.state.inputText = e));\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.catch((t) => t));\r\n\t\t\t},\r\n\t\t\tonDrop(t) {\r\n\t\t\t\tt.preventDefault();\r\n\t\t\t},\r\n\t\t\tonEditTagInput(t, e) {\r\n\t\t\t\tvar i = t.closest(\".\" + this.settings.classNames.tag),\r\n\t\t\t\t\ts = this.getNodeIndex(i),\r\n\t\t\t\t\ta = this.tagData(i),\r\n\t\t\t\t\tn = this.input.normalize.call(this, t),\r\n\t\t\t\t\to = i.innerHTML != i.__tagifyTagData.__originalHTML,\r\n\t\t\t\t\tr = this.validateTag(g(i.__tagifyTagData, { [this.settings.tagTextProp]: n }));\r\n\t\t\t\to || !0 !== t.originalIsValid || (r = !0), i.classList.toggle(this.settings.classNames.tagInvalid, !0 !== r), (a.__isValid = r), (i.title = !0 === r ? a.title || a.value : r), n.length >= this.settings.dropdown.enabled && (this.state.editing && (this.state.editing.value = n), this.dropdown.show(n)), this.trigger(\"edit:input\", { tag: i, index: s, data: g({}, this.value[s], { newValue: n }), originalEvent: this.cloneEvent(e) });\r\n\t\t\t},\r\n\t\t\tonEditTagFocus(t) {\r\n\t\t\t\tthis.state.editing = { scope: t, input: t.querySelector(\"[contenteditable]\") };\r\n\t\t\t},\r\n\t\t\tonEditTagBlur(t) {\r\n\t\t\t\tif ((this.state.hasFocus || this.toggleFocusClass(), this.DOM.scope.contains(t))) {\r\n\t\t\t\t\tvar e,\r\n\t\t\t\t\t\ti,\r\n\t\t\t\t\t\ts = this.settings,\r\n\t\t\t\t\t\ta = t.closest(\".\" + s.classNames.tag),\r\n\t\t\t\t\t\tn = this.input.normalize.call(this, t),\r\n\t\t\t\t\t\to = this.tagData(a).__originalData,\r\n\t\t\t\t\t\tr = a.innerHTML != a.__tagifyTagData.__originalHTML,\r\n\t\t\t\t\t\tl = this.validateTag({ [s.tagTextProp]: n });\r\n\t\t\t\t\tif (n)\r\n\t\t\t\t\t\tif (r) {\r\n\t\t\t\t\t\t\tif (((e = this.hasMaxTags()), (i = g({}, o, { [s.tagTextProp]: this.trim(n), value: n, __isValid: l })), s.transformTag.call(this, i, o), !0 !== (l = (!e || !0 === o.__isValid) && this.validateTag(i)))) {\r\n\t\t\t\t\t\t\t\tif ((this.trigger(\"invalid\", { data: i, tag: a, message: l }), s.editTags.keepInvalid)) return;\r\n\t\t\t\t\t\t\t\ts.keepInvalidTags ? (i.__isValid = l) : (i = o);\r\n\t\t\t\t\t\t\t} else s.keepInvalidTags && (delete i.title, delete i[\"aria-invalid\"], delete i.class);\r\n\t\t\t\t\t\t\tthis.onEditTagDone(a, i);\r\n\t\t\t\t\t\t} else this.onEditTagDone(a, o);\r\n\t\t\t\t\telse this.onEditTagDone(a);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tonEditTagkeydown(t, e) {\r\n\t\t\t\tswitch ((this.trigger(\"edit:keydown\", { originalEvent: this.cloneEvent(t) }), t.key)) {\r\n\t\t\t\t\tcase \"Esc\":\r\n\t\t\t\t\tcase \"Escape\":\r\n\t\t\t\t\t\te.innerHTML = e.__tagifyTagData.__originalHTML;\r\n\t\t\t\t\tcase \"Enter\":\r\n\t\t\t\t\tcase \"Tab\":\r\n\t\t\t\t\t\tt.preventDefault(), t.target.blur();\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tonDoubleClickScope(t) {\r\n\t\t\t\tvar e,\r\n\t\t\t\t\ti,\r\n\t\t\t\t\ts = t.target.closest(\".\" + this.settings.classNames.tag),\r\n\t\t\t\t\ta = this.settings;\r\n\t\t\t\ts && a.userInput && ((e = s.classList.contains(this.settings.classNames.tagEditing)), (i = s.hasAttribute(\"readonly\")), \"select\" == a.mode || a.readonly || e || i || !this.settings.editTags || this.editTag(s), this.toggleFocusClass(!0), this.trigger(\"dblclick\", { tag: s, index: this.getNodeIndex(s), data: this.tagData(s) }));\r\n\t\t\t},\r\n\t\t\tonInputDOMChange(t) {\r\n\t\t\t\tt.forEach((t) => {\r\n\t\t\t\t\tt.addedNodes.forEach((t) => {\r\n\t\t\t\t\t\tif (t)\r\n\t\t\t\t\t\t\tif (\"<div><br></div>\" == t.outerHTML) t.replaceWith(document.createElement(\"br\"));\r\n\t\t\t\t\t\t\telse if (1 == t.nodeType && t.querySelector(this.settings.classNames.tagSelector)) {\r\n\t\t\t\t\t\t\t\tlet e = document.createTextNode(\"\");\r\n\t\t\t\t\t\t\t\t3 == t.childNodes[0].nodeType && \"BR\" != t.previousSibling.nodeName && (e = document.createTextNode(\"\\n\")), t.replaceWith(e, ...[...t.childNodes].slice(0, -1)), this.placeCaretAfterNode(e.previousSibling);\r\n\t\t\t\t\t\t\t} else v.call(this, t) && t.previousSibling && \"BR\" == t.previousSibling.nodeName && (t.previousSibling.replaceWith(\"\\nâ€‹\"), this.placeCaretAfterNode(t.previousSibling.previousSibling));\r\n\t\t\t\t\t}),\r\n\t\t\t\t\t\tt.removedNodes.forEach((t) => {\r\n\t\t\t\t\t\t\tt && \"BR\" == t.nodeName && v.call(this, e) && (this.removeTags(e), this.fixFirefoxLastTagNoCaret());\r\n\t\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t\tvar e = this.DOM.input.lastChild;\r\n\t\t\t\te && \"\" == e.nodeValue && e.remove(), (e && \"BR\" == e.nodeName) || this.DOM.input.appendChild(document.createElement(\"br\"));\r\n\t\t\t},\r\n\t\t},\r\n\t};\r\n\tfunction M(t, e) {\r\n\t\tif (!t) {\r\n\t\t\tconsole.warn(\"Tagify:\", \"input element not found\", t);\r\n\t\t\tconst e = new Proxy(this, { get: () => () => e });\r\n\t\t\treturn e;\r\n\t\t}\r\n\t\tif (t.previousElementSibling && t.previousElementSibling.classList.contains(\"tagify\")) return console.warn(\"Tagify: \", \"input element is already Tagified\", t), this;\r\n\t\tvar i;\r\n\t\tg(\r\n\t\t\tthis,\r\n\t\t\t(function (t) {\r\n\t\t\t\tvar e = document.createTextNode(\"\");\r\n\t\t\t\tfunction i(t, i, s) {\r\n\t\t\t\t\ts && i.split(/\\s+/g).forEach((i) => e[t + \"EventListener\"].call(e, i, s));\r\n\t\t\t\t}\r\n\t\t\t\treturn {\r\n\t\t\t\t\toff(t, e) {\r\n\t\t\t\t\t\treturn i(\"remove\", t, e), this;\r\n\t\t\t\t\t},\r\n\t\t\t\t\ton(t, e) {\r\n\t\t\t\t\t\treturn e && \"function\" == typeof e && i(\"add\", t, e), this;\r\n\t\t\t\t\t},\r\n\t\t\t\t\ttrigger(i, s, a) {\r\n\t\t\t\t\t\tvar n;\r\n\t\t\t\t\t\tif (((a = a || { cloneData: !0 }), i))\r\n\t\t\t\t\t\t\tif (t.settings.isJQueryPlugin) \"remove\" == i && (i = \"removeTag\"), jQuery(t.DOM.originalInput).triggerHandler(i, [s]);\r\n\t\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\t\t\tvar o = \"object\" == typeof s ? s : { value: s };\r\n\t\t\t\t\t\t\t\t\tif ((((o = a.cloneData ? g({}, o) : o).tagify = this), s instanceof Object)) for (var r in s) s[r] instanceof HTMLElement && (o[r] = s[r]);\r\n\t\t\t\t\t\t\t\t\tn = new CustomEvent(i, { detail: o });\r\n\t\t\t\t\t\t\t\t} catch (t) {\r\n\t\t\t\t\t\t\t\t\tconsole.warn(t);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\te.dispatchEvent(n);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t};\r\n\t\t\t})(this)\r\n\t\t),\r\n\t\t\t(this.isFirefox = \"undefined\" != typeof InstallTrigger),\r\n\t\t\t(this.isIE = window.document.documentMode),\r\n\t\t\t(e = e || {}),\r\n\t\t\t(this.getPersistedData =\r\n\t\t\t\t((i = e.id),\r\n\t\t\t\t(t) => {\r\n\t\t\t\t\tlet e,\r\n\t\t\t\t\t\ts = \"/\" + t;\r\n\t\t\t\t\tif (1 == localStorage.getItem(b + i + \"/v\", 1))\r\n\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\te = JSON.parse(localStorage[b + i + s]);\r\n\t\t\t\t\t\t} catch (t) {}\r\n\t\t\t\t\treturn e;\r\n\t\t\t\t})),\r\n\t\t\t(this.setPersistedData = ((t) =>\r\n\t\t\t\tt\r\n\t\t\t\t\t? (localStorage.setItem(b + t + \"/v\", 1),\r\n\t\t\t\t\t  (e, i) => {\r\n\t\t\t\t\t\t\tlet s = \"/\" + i,\r\n\t\t\t\t\t\t\t\ta = JSON.stringify(e);\r\n\t\t\t\t\t\t\te && i && (localStorage.setItem(b + t + s, a), dispatchEvent(new Event(\"storage\")));\r\n\t\t\t\t\t  })\r\n\t\t\t\t\t: () => {})(e.id)),\r\n\t\t\t(this.clearPersistedData = ((t) => (e) => {\r\n\t\t\t\tconst i = b + \"/\" + t + \"/\";\r\n\t\t\t\tif (e) localStorage.removeItem(i + e);\r\n\t\t\t\telse for (let t in localStorage) t.includes(i) && localStorage.removeItem(t);\r\n\t\t\t})(e.id)),\r\n\t\t\tthis.applySettings(t, e),\r\n\t\t\t(this.state = { inputText: \"\", editing: !1, actions: {}, mixMode: {}, dropdown: {}, flaggedTags: {} }),\r\n\t\t\t(this.value = []),\r\n\t\t\t(this.listeners = {}),\r\n\t\t\t(this.DOM = {}),\r\n\t\t\tthis.build(t),\r\n\t\t\tT.call(this),\r\n\t\t\tthis.getCSSVars(),\r\n\t\t\tthis.loadOriginalValues(),\r\n\t\t\tthis.events.customBinding.call(this),\r\n\t\t\tthis.events.binding.call(this),\r\n\t\t\tt.autofocus && this.DOM.input.focus();\r\n\t}\r\n\treturn (\r\n\t\t(M.prototype = {\r\n\t\t\t_dropdown: w,\r\n\t\t\thelpers: { sameStr: s, removeCollectionProp: a, omit: n, isObject: h, parseHTML: r, escapeHTML: d, extend: g, concatWithoutDups: p, getUID: m, isNodeTag: v },\r\n\t\t\tcustomEventsList: [\"change\", \"add\", \"remove\", \"invalid\", \"input\", \"click\", \"keydown\", \"focus\", \"blur\", \"edit:input\", \"edit:beforeUpdate\", \"edit:updated\", \"edit:start\", \"edit:keydown\", \"dropdown:show\", \"dropdown:hide\", \"dropdown:select\", \"dropdown:updated\", \"dropdown:noMatch\", \"dropdown:scroll\"],\r\n\t\t\tdataProps: [\"__isValid\", \"__removed\", \"__originalData\", \"__originalHTML\", \"__tagId\"],\r\n\t\t\ttrim(t) {\r\n\t\t\t\treturn this.settings.trim && t && \"string\" == typeof t ? t.trim() : t;\r\n\t\t\t},\r\n\t\t\tparseHTML: r,\r\n\t\t\ttemplates: D,\r\n\t\t\tparseTemplate(t, e) {\r\n\t\t\t\treturn (t = this.settings.templates[t] || t), this.parseHTML(t.apply(this, e));\r\n\t\t\t},\r\n\t\t\tset whitelist(t) {\r\n\t\t\t\tconst e = t && Array.isArray(t);\r\n\t\t\t\t(this.settings.whitelist = e ? t : []), this.setPersistedData(e ? t : [], \"whitelist\");\r\n\t\t\t},\r\n\t\t\tget whitelist() {\r\n\t\t\t\treturn this.settings.whitelist;\r\n\t\t\t},\r\n\t\t\tapplySettings(t, i) {\r\n\t\t\t\tf.templates = this.templates;\r\n\t\t\t\tvar s = (this.settings = g({}, f, i));\r\n\t\t\t\t(s.disabled = t.hasAttribute(\"disabled\")), (s.readonly = s.readonly || t.hasAttribute(\"readonly\")), (s.placeholder = d(t.getAttribute(\"placeholder\") || s.placeholder || \"\")), (s.required = t.hasAttribute(\"required\"));\r\n\t\t\t\tfor (let t in s.classNames)\r\n\t\t\t\t\tObject.defineProperty(s.classNames, t + \"Selector\", {\r\n\t\t\t\t\t\tget() {\r\n\t\t\t\t\t\t\treturn \".\" + this[t].split(\" \")[0];\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t});\r\n\t\t\t\tif (\r\n\t\t\t\t\t(this.isIE && (s.autoComplete = !1),\r\n\t\t\t\t\t[\"whitelist\", \"blacklist\"].forEach((e) => {\r\n\t\t\t\t\t\tvar i = t.getAttribute(\"data-\" + e);\r\n\t\t\t\t\t\ti && (i = i.split(s.delimiters)) instanceof Array && (s[e] = i);\r\n\t\t\t\t\t}),\r\n\t\t\t\t\t\"autoComplete\" in i && !h(i.autoComplete) && ((s.autoComplete = f.autoComplete), (s.autoComplete.enabled = i.autoComplete)),\r\n\t\t\t\t\t\"mix\" == s.mode && ((s.autoComplete.rightKey = !0), (s.delimiters = i.delimiters || null), s.tagTextProp && !s.dropdown.searchKeys.includes(s.tagTextProp) && s.dropdown.searchKeys.push(s.tagTextProp)),\r\n\t\t\t\t\tt.pattern)\r\n\t\t\t\t)\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\ts.pattern = new RegExp(t.pattern);\r\n\t\t\t\t\t} catch (t) {}\r\n\t\t\t\tif (this.settings.delimiters)\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\ts.delimiters = new RegExp(this.settings.delimiters, \"g\");\r\n\t\t\t\t\t} catch (t) {}\r\n\t\t\t\ts.disabled && (s.userInput = !1), (this.TEXTS = e(e({}, x), s.texts || {})), (\"select\" != s.mode && s.userInput) || (s.dropdown.enabled = 0), (s.dropdown.appendTarget = i.dropdown && i.dropdown.appendTarget ? i.dropdown.appendTarget : document.body);\r\n\t\t\t\tlet a = this.getPersistedData(\"whitelist\");\r\n\t\t\t\tArray.isArray(a) && (this.whitelist = Array.isArray(s.whitelist) ? p(s.whitelist, a) : a);\r\n\t\t\t},\r\n\t\t\tgetAttributes(t) {\r\n\t\t\t\tvar e,\r\n\t\t\t\t\ti = this.getCustomAttributes(t),\r\n\t\t\t\t\ts = \"\";\r\n\t\t\t\tfor (e in i) s += \" \" + e + (void 0 !== t[e] ? `=\"${i[e]}\"` : \"\");\r\n\t\t\t\treturn s;\r\n\t\t\t},\r\n\t\t\tgetCustomAttributes(t) {\r\n\t\t\t\tif (!h(t)) return \"\";\r\n\t\t\t\tvar e,\r\n\t\t\t\t\ti = {};\r\n\t\t\t\tfor (e in t) \"__\" != e.slice(0, 2) && \"class\" != e && t.hasOwnProperty(e) && void 0 !== t[e] && (i[e] = d(t[e]));\r\n\t\t\t\treturn i;\r\n\t\t\t},\r\n\t\t\tsetStateSelection() {\r\n\t\t\t\tvar t = window.getSelection(),\r\n\t\t\t\t\te = { anchorOffset: t.anchorOffset, anchorNode: t.anchorNode, range: t.getRangeAt && t.rangeCount && t.getRangeAt(0) };\r\n\t\t\t\treturn (this.state.selection = e), e;\r\n\t\t\t},\r\n\t\t\tgetCaretGlobalPosition() {\r\n\t\t\t\tconst t = document.getSelection();\r\n\t\t\t\tif (t.rangeCount) {\r\n\t\t\t\t\tconst e = t.getRangeAt(0),\r\n\t\t\t\t\t\ti = e.startContainer,\r\n\t\t\t\t\t\ts = e.startOffset;\r\n\t\t\t\t\tlet a, n;\r\n\t\t\t\t\tif (s > 0) return (n = document.createRange()), n.setStart(i, s - 1), n.setEnd(i, s), (a = n.getBoundingClientRect()), { left: a.right, top: a.top, bottom: a.bottom };\r\n\t\t\t\t\tif (i.getBoundingClientRect) return i.getBoundingClientRect();\r\n\t\t\t\t}\r\n\t\t\t\treturn { left: -9999, top: -9999 };\r\n\t\t\t},\r\n\t\t\tgetCSSVars() {\r\n\t\t\t\tvar t = getComputedStyle(this.DOM.scope, null);\r\n\t\t\t\tvar e;\r\n\t\t\t\tthis.CSSVars = {\r\n\t\t\t\t\ttagHideTransition: (({ value: t, unit: e }) => (\"s\" == e ? 1e3 * t : t))(\r\n\t\t\t\t\t\t(function (t) {\r\n\t\t\t\t\t\t\tif (!t) return {};\r\n\t\t\t\t\t\t\tvar e = (t = t.trim().split(\" \")[0])\r\n\t\t\t\t\t\t\t\t.split(/\\d+/g)\r\n\t\t\t\t\t\t\t\t.filter((t) => t)\r\n\t\t\t\t\t\t\t\t.pop()\r\n\t\t\t\t\t\t\t\t.trim();\r\n\t\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\t\tvalue: +t\r\n\t\t\t\t\t\t\t\t\t.split(e)\r\n\t\t\t\t\t\t\t\t\t.filter((t) => t)[0]\r\n\t\t\t\t\t\t\t\t\t.trim(),\r\n\t\t\t\t\t\t\t\tunit: e,\r\n\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t})(((e = \"tag-hide-transition\"), t.getPropertyValue(\"--\" + e)))\r\n\t\t\t\t\t),\r\n\t\t\t\t};\r\n\t\t\t},\r\n\t\t\tbuild(t) {\r\n\t\t\t\tvar e = this.DOM;\r\n\t\t\t\tthis.settings.mixMode.integrated ? ((e.originalInput = null), (e.scope = t), (e.input = t)) : ((e.originalInput = t), (e.originalInput_tabIndex = t.tabIndex), (e.scope = this.parseTemplate(\"wrapper\", [t, this.settings])), (e.input = e.scope.querySelector(this.settings.classNames.inputSelector)), t.parentNode.insertBefore(e.scope, t), (t.tabIndex = -1));\r\n\t\t\t},\r\n\t\t\tdestroy() {\r\n\t\t\t\tthis.events.unbindGlobal.call(this), this.DOM.scope.parentNode.removeChild(this.DOM.scope), (this.DOM.originalInput.tabIndex = this.DOM.originalInput_tabIndex), this.dropdown.hide(!0), clearTimeout(this.dropdownHide__bindEventsTimeout);\r\n\t\t\t},\r\n\t\t\tloadOriginalValues(t) {\r\n\t\t\t\tvar e,\r\n\t\t\t\t\ti = this.settings;\r\n\t\t\t\tif (((this.state.blockChangeEvent = !0), void 0 === t)) {\r\n\t\t\t\t\tconst e = this.getPersistedData(\"value\");\r\n\t\t\t\t\tt = e && !this.DOM.originalInput.value ? e : i.mixMode.integrated ? this.DOM.input.textContent : this.DOM.originalInput.value;\r\n\t\t\t\t}\r\n\t\t\t\tif ((this.removeAllTags(), t))\r\n\t\t\t\t\tif (\"mix\" == i.mode) this.parseMixTags(this.trim(t)), ((e = this.DOM.input.lastChild) && \"BR\" == e.tagName) || this.DOM.input.insertAdjacentHTML(\"beforeend\", \"<br>\");\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\tJSON.parse(t) instanceof Array && (t = JSON.parse(t));\r\n\t\t\t\t\t\t} catch (t) {}\r\n\t\t\t\t\t\tthis.addTags(t).forEach((t) => t && t.classList.add(i.classNames.tagNoAnimation));\r\n\t\t\t\t\t}\r\n\t\t\t\telse this.postUpdate();\r\n\t\t\t\t(this.state.lastOriginalValueReported = i.mixMode.integrated ? \"\" : this.DOM.originalInput.value), (this.state.blockChangeEvent = !1);\r\n\t\t\t},\r\n\t\t\tcloneEvent(t) {\r\n\t\t\t\tvar e = {};\r\n\t\t\t\tfor (var i in t) e[i] = t[i];\r\n\t\t\t\treturn e;\r\n\t\t\t},\r\n\t\t\tloading(t) {\r\n\t\t\t\treturn (this.state.isLoading = t), this.DOM.scope.classList[t ? \"add\" : \"remove\"](this.settings.classNames.scopeLoading), this;\r\n\t\t\t},\r\n\t\t\ttagLoading(t, e) {\r\n\t\t\t\treturn t && t.classList[e ? \"add\" : \"remove\"](this.settings.classNames.tagLoading), this;\r\n\t\t\t},\r\n\t\t\ttoggleClass(t, e) {\r\n\t\t\t\t\"string\" == typeof t && this.DOM.scope.classList.toggle(t, e);\r\n\t\t\t},\r\n\t\t\ttoggleFocusClass(t) {\r\n\t\t\t\tthis.toggleClass(this.settings.classNames.focus, !!t);\r\n\t\t\t},\r\n\t\t\ttriggerChangeEvent: function () {\r\n\t\t\t\tif (!this.settings.mixMode.integrated) {\r\n\t\t\t\t\tvar t = this.DOM.originalInput,\r\n\t\t\t\t\t\te = this.state.lastOriginalValueReported !== t.value,\r\n\t\t\t\t\t\ti = new CustomEvent(\"change\", { bubbles: !0 });\r\n\t\t\t\t\te && ((this.state.lastOriginalValueReported = t.value), (i.simulated = !0), t._valueTracker && t._valueTracker.setValue(Math.random()), t.dispatchEvent(i), this.trigger(\"change\", this.state.lastOriginalValueReported), (t.value = this.state.lastOriginalValueReported));\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tevents: O,\r\n\t\t\tfixFirefoxLastTagNoCaret() {},\r\n\t\t\tplaceCaretAfterNode(t) {\r\n\t\t\t\tif (t && t.parentNode) {\r\n\t\t\t\t\tvar e = t.nextSibling,\r\n\t\t\t\t\t\ti = window.getSelection(),\r\n\t\t\t\t\t\ts = i.getRangeAt(0);\r\n\t\t\t\t\ti.rangeCount && (s.setStartAfter(e || t), s.collapse(!0), i.removeAllRanges(), i.addRange(s));\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tinsertAfterTag(t, e) {\r\n\t\t\t\tif (((e = e || this.settings.mixMode.insertAfterTag), t && t.parentNode && e)) return (e = \"string\" == typeof e ? document.createTextNode(e) : e), t.parentNode.insertBefore(e, t.nextSibling), e;\r\n\t\t\t},\r\n\t\t\teditTag(t, e) {\r\n\t\t\t\t(t = t || this.getLastTag()), (e = e || {}), this.dropdown.hide();\r\n\t\t\t\tvar i = this.settings;\r\n\t\t\t\tfunction s() {\r\n\t\t\t\t\treturn t.querySelector(i.classNames.tagTextSelector);\r\n\t\t\t\t}\r\n\t\t\t\tvar a = s(),\r\n\t\t\t\t\tn = this.getNodeIndex(t),\r\n\t\t\t\t\to = this.tagData(t),\r\n\t\t\t\t\tr = this.events.callbacks,\r\n\t\t\t\t\tl = this,\r\n\t\t\t\t\td = !0;\r\n\t\t\t\tif (a) {\r\n\t\t\t\t\tif (!(o instanceof Object && \"editable\" in o) || o.editable)\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\ta.setAttribute(\"contenteditable\", !0),\r\n\t\t\t\t\t\t\tt.classList.add(i.classNames.tagEditing),\r\n\t\t\t\t\t\t\tthis.tagData(t, { __originalData: g({}, o), __originalHTML: t.innerHTML }),\r\n\t\t\t\t\t\t\ta.addEventListener(\"focus\", r.onEditTagFocus.bind(this, t)),\r\n\t\t\t\t\t\t\ta.addEventListener(\"blur\", function () {\r\n\t\t\t\t\t\t\t\tsetTimeout(() => r.onEditTagBlur.call(l, s()));\r\n\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t\ta.addEventListener(\"input\", r.onEditTagInput.bind(this, a)),\r\n\t\t\t\t\t\t\ta.addEventListener(\"keydown\", (e) => r.onEditTagkeydown.call(this, e, t)),\r\n\t\t\t\t\t\t\ta.focus(),\r\n\t\t\t\t\t\t\tthis.setRangeAtStartEnd(!1, a),\r\n\t\t\t\t\t\t\te.skipValidation || (d = this.editTagToggleValidity(t)),\r\n\t\t\t\t\t\t\t(a.originalIsValid = d),\r\n\t\t\t\t\t\t\tthis.trigger(\"edit:start\", { tag: t, index: n, data: o, isValid: d }),\r\n\t\t\t\t\t\t\tthis\r\n\t\t\t\t\t\t);\r\n\t\t\t\t} else console.warn(\"Cannot find element in Tag template: .\", i.classNames.tagTextSelector);\r\n\t\t\t},\r\n\t\t\teditTagToggleValidity(t, e) {\r\n\t\t\t\tvar i;\r\n\t\t\t\tif ((e = e || this.tagData(t))) return (i = !(\"__isValid\" in e) || !0 === e.__isValid) || this.removeTagsFromValue(t), this.update(), t.classList.toggle(this.settings.classNames.tagNotAllowed, !i), e.__isValid;\r\n\t\t\t\tconsole.warn(\"tag has no data: \", t, e);\r\n\t\t\t},\r\n\t\t\tonEditTagDone(t, e) {\r\n\t\t\t\te = e || {};\r\n\t\t\t\tvar i = { tag: (t = t || this.state.editing.scope), index: this.getNodeIndex(t), previousData: this.tagData(t), data: e };\r\n\t\t\t\tthis.trigger(\"edit:beforeUpdate\", i, { cloneData: !1 }), (this.state.editing = !1), delete e.__originalData, delete e.__originalHTML, t && e[this.settings.tagTextProp] ? ((t = this.replaceTag(t, e)), this.editTagToggleValidity(t, e), this.settings.a11y.focusableTags ? t.focus() : this.placeCaretAfterNode(t.previousSibling)) : t && this.removeTags(t), this.trigger(\"edit:updated\", i), this.dropdown.hide(), this.settings.keepInvalidTags && this.reCheckInvalidTags();\r\n\t\t\t},\r\n\t\t\treplaceTag(t, e) {\r\n\t\t\t\t(e && e.value) || (e = t.__tagifyTagData), e.__isValid && 1 != e.__isValid && g(e, this.getInvalidTagAttrs(e, e.__isValid));\r\n\t\t\t\tvar i = this.createTagElem(e);\r\n\t\t\t\treturn t.parentNode.replaceChild(i, t), this.updateValueByDOMTags(), i;\r\n\t\t\t},\r\n\t\t\tupdateValueByDOMTags() {\r\n\t\t\t\t(this.value.length = 0),\r\n\t\t\t\t\t[].forEach.call(this.getTagElms(), (t) => {\r\n\t\t\t\t\t\tt.classList.contains(this.settings.classNames.tagNotAllowed.split(\" \")[0]) || this.value.push(this.tagData(t));\r\n\t\t\t\t\t}),\r\n\t\t\t\t\tthis.update();\r\n\t\t\t},\r\n\t\t\tsetRangeAtStartEnd(t, e) {\r\n\t\t\t\t(t = \"number\" == typeof t ? t : !!t), (e = (e = e || this.DOM.input).lastChild || e);\r\n\t\t\t\tvar i = document.getSelection();\r\n\t\t\t\ttry {\r\n\t\t\t\t\ti.rangeCount >= 1 && [\"Start\", \"End\"].forEach((s) => i.getRangeAt(0)[\"set\" + s](e, t || e.length));\r\n\t\t\t\t} catch (t) {}\r\n\t\t\t},\r\n\t\t\tinjectAtCaret(t, e) {\r\n\t\t\t\tif ((e = e || this.state.selection.range)) return \"string\" == typeof t && (t = document.createTextNode(t)), e.deleteContents(), e.insertNode(t), this.setRangeAtStartEnd(!1, t), this.updateValueByDOMTags(), this.update(), this;\r\n\t\t\t},\r\n\t\t\tinput: {\r\n\t\t\t\tset(t = \"\", e = !0) {\r\n\t\t\t\t\tvar i = this.settings.dropdown.closeOnSelect;\r\n\t\t\t\t\t(this.state.inputText = t), e && (this.DOM.input.innerHTML = d(\"\" + t)), !t && i && this.dropdown.hide.bind(this), this.input.autocomplete.suggest.call(this), this.input.validate.call(this);\r\n\t\t\t\t},\r\n\t\t\t\traw() {\r\n\t\t\t\t\treturn this.DOM.input.textContent;\r\n\t\t\t\t},\r\n\t\t\t\tvalidate() {\r\n\t\t\t\t\tvar t = !this.state.inputText || !0 === this.validateTag({ value: this.state.inputText });\r\n\t\t\t\t\treturn this.DOM.input.classList.toggle(this.settings.classNames.inputInvalid, !t), t;\r\n\t\t\t\t},\r\n\t\t\t\tnormalize(t) {\r\n\t\t\t\t\tvar e = t || this.DOM.input,\r\n\t\t\t\t\t\ti = [];\r\n\t\t\t\t\te.childNodes.forEach((t) => 3 == t.nodeType && i.push(t.nodeValue)), (i = i.join(\"\\n\"));\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\ti = i.replace(/(?:\\r\\n|\\r|\\n)/g, this.settings.delimiters.source.charAt(0));\r\n\t\t\t\t\t} catch (t) {}\r\n\t\t\t\t\treturn (i = i.replace(/\\s/g, \" \")), this.settings.trim && (i = i.replace(/^\\s+/, \"\")), this.trim(i);\r\n\t\t\t\t},\r\n\t\t\t\tautocomplete: {\r\n\t\t\t\t\tsuggest(t) {\r\n\t\t\t\t\t\tif (this.settings.autoComplete.enabled) {\r\n\t\t\t\t\t\t\t\"string\" == typeof (t = t || {}) && (t = { value: t });\r\n\t\t\t\t\t\t\tvar e = t.value ? \"\" + t.value : \"\",\r\n\t\t\t\t\t\t\t\ti = e.substr(0, this.state.inputText.length).toLowerCase(),\r\n\t\t\t\t\t\t\t\ts = e.substring(this.state.inputText.length);\r\n\t\t\t\t\t\t\te && this.state.inputText && i == this.state.inputText.toLowerCase() ? (this.DOM.input.setAttribute(\"data-suggest\", s), (this.state.inputSuggestion = t)) : (this.DOM.input.removeAttribute(\"data-suggest\"), delete this.state.inputSuggestion);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\tset(t) {\r\n\t\t\t\t\t\tvar e = this.DOM.input.getAttribute(\"data-suggest\"),\r\n\t\t\t\t\t\t\ti = t || (e ? this.state.inputText + e : null);\r\n\t\t\t\t\t\treturn !!i && (\"mix\" == this.settings.mode ? this.replaceTextWithNode(document.createTextNode(this.state.tag.prefix + i)) : (this.input.set.call(this, i), this.setRangeAtStartEnd()), this.input.autocomplete.suggest.call(this), this.dropdown.hide(), !0);\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t\tgetTagIdx(t) {\r\n\t\t\t\treturn this.value.findIndex((e) => e.__tagId == (t || {}).__tagId);\r\n\t\t\t},\r\n\t\t\tgetNodeIndex(t) {\r\n\t\t\t\tvar e = 0;\r\n\t\t\t\tif (t) for (; (t = t.previousElementSibling); ) e++;\r\n\t\t\t\treturn e;\r\n\t\t\t},\r\n\t\t\tgetTagElms(...t) {\r\n\t\t\t\tvar e = \".\" + [...this.settings.classNames.tag.split(\" \"), ...t].join(\".\");\r\n\t\t\t\treturn [].slice.call(this.DOM.scope.querySelectorAll(e));\r\n\t\t\t},\r\n\t\t\tgetLastTag() {\r\n\t\t\t\tvar t = this.DOM.scope.querySelectorAll(`${this.settings.classNames.tagSelector}:not(.${this.settings.classNames.tagHide}):not([readonly])`);\r\n\t\t\t\treturn t[t.length - 1];\r\n\t\t\t},\r\n\t\t\ttagData: (t, e, i) => (t ? (e && (t.__tagifyTagData = i ? e : g({}, t.__tagifyTagData || {}, e)), t.__tagifyTagData) : (console.warn(\"tag element doesn't exist\", t, e), e)),\r\n\t\t\tisTagDuplicate(t, e, i) {\r\n\t\t\t\tvar a = this.settings;\r\n\t\t\t\treturn \"select\" != a.mode && this.value.reduce((n, o) => (s(this.trim(\"\" + t), o.value, e || a.dropdown.caseSensitive) && i != o.__tagId ? n + 1 : n), 0);\r\n\t\t\t},\r\n\t\t\tgetTagIndexByValue(t) {\r\n\t\t\t\tvar e = [];\r\n\t\t\t\treturn (\r\n\t\t\t\t\tthis.getTagElms().forEach((i, a) => {\r\n\t\t\t\t\t\ts(this.trim(i.textContent), t, this.settings.dropdown.caseSensitive) && e.push(a);\r\n\t\t\t\t\t}),\r\n\t\t\t\t\te\r\n\t\t\t\t);\r\n\t\t\t},\r\n\t\t\tgetTagElmByValue(t) {\r\n\t\t\t\tvar e = this.getTagIndexByValue(t)[0];\r\n\t\t\t\treturn this.getTagElms()[e];\r\n\t\t\t},\r\n\t\t\tflashTag(t) {\r\n\t\t\t\tt &&\r\n\t\t\t\t\t(t.classList.add(this.settings.classNames.tagFlash),\r\n\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\tt.classList.remove(this.settings.classNames.tagFlash);\r\n\t\t\t\t\t}, 100));\r\n\t\t\t},\r\n\t\t\tisTagBlacklisted(t) {\r\n\t\t\t\treturn (t = this.trim(t.toLowerCase())), this.settings.blacklist.filter((e) => (\"\" + e).toLowerCase() == t).length;\r\n\t\t\t},\r\n\t\t\tisTagWhitelisted(t) {\r\n\t\t\t\treturn !!this.getWhitelistItem(t);\r\n\t\t\t},\r\n\t\t\tgetWhitelistItem(t, e, i) {\r\n\t\t\t\te = e || \"value\";\r\n\t\t\t\tvar a,\r\n\t\t\t\t\tn = this.settings;\r\n\t\t\t\treturn (\r\n\t\t\t\t\t(i = i || n.whitelist).some((i) => {\r\n\t\t\t\t\t\tvar o = \"string\" == typeof i ? i : i[e] || i.value;\r\n\t\t\t\t\t\tif (s(o, t, n.dropdown.caseSensitive, n.trim)) return (a = \"string\" == typeof i ? { value: i } : i), !0;\r\n\t\t\t\t\t}),\r\n\t\t\t\t\ta || \"value\" != e || \"value\" == n.tagTextProp || (a = this.getWhitelistItem(t, n.tagTextProp, i)),\r\n\t\t\t\t\ta\r\n\t\t\t\t);\r\n\t\t\t},\r\n\t\t\tvalidateTag(t) {\r\n\t\t\t\tvar e = this.settings,\r\n\t\t\t\t\ti = \"value\" in t ? \"value\" : e.tagTextProp,\r\n\t\t\t\t\ts = this.trim(t[i] + \"\");\r\n\t\t\t\treturn (t[i] + \"\").trim() ? (e.pattern && e.pattern instanceof RegExp && !e.pattern.test(s) ? this.TEXTS.pattern : !e.duplicates && this.isTagDuplicate(s, this.state.editing, t.__tagId) ? this.TEXTS.duplicate : this.isTagBlacklisted(s) || (e.enforceWhitelist && !this.isTagWhitelisted(s)) ? this.TEXTS.notAllowed : !e.validate || e.validate(t)) : this.TEXTS.empty;\r\n\t\t\t},\r\n\t\t\tgetInvalidTagAttrs(t, e) {\r\n\t\t\t\treturn { \"aria-invalid\": !0, class: `${t.class || \"\"} ${this.settings.classNames.tagNotAllowed}`.trim(), title: e };\r\n\t\t\t},\r\n\t\t\thasMaxTags() {\r\n\t\t\t\treturn this.value.length >= this.settings.maxTags && this.TEXTS.exceed;\r\n\t\t\t},\r\n\t\t\tsetReadonly(t, e) {\r\n\t\t\t\tvar i = this.settings;\r\n\t\t\t\tdocument.activeElement.blur(), (i[e || \"readonly\"] = t), this.DOM.scope[(t ? \"set\" : \"remove\") + \"Attribute\"](e || \"readonly\", !0), this.setContentEditable(!t);\r\n\t\t\t},\r\n\t\t\tsetContentEditable(t) {\r\n\t\t\t\t!this.settings.readonly && this.settings.userInput && ((this.DOM.input.contentEditable = t), (this.DOM.input.tabIndex = t ? 0 : -1));\r\n\t\t\t},\r\n\t\t\tsetDisabled(t) {\r\n\t\t\t\tthis.setReadonly(t, \"disabled\");\r\n\t\t\t},\r\n\t\t\tnormalizeTags(t) {\r\n\t\t\t\tvar e = this.settings,\r\n\t\t\t\t\ti = e.whitelist,\r\n\t\t\t\t\ts = e.delimiters,\r\n\t\t\t\t\ta = e.mode,\r\n\t\t\t\t\tn = e.tagTextProp;\r\n\t\t\t\te.enforceWhitelist;\r\n\t\t\t\tvar o = [],\r\n\t\t\t\t\tr = !!i && i[0] instanceof Object,\r\n\t\t\t\t\tl = t instanceof Array,\r\n\t\t\t\t\td = (t) =>\r\n\t\t\t\t\t\t(t + \"\")\r\n\t\t\t\t\t\t\t.split(s)\r\n\t\t\t\t\t\t\t.filter((t) => t)\r\n\t\t\t\t\t\t\t.map((t) => ({ [n]: this.trim(t), value: this.trim(t) }));\r\n\t\t\t\tif ((\"number\" == typeof t && (t = t.toString()), \"string\" == typeof t)) {\r\n\t\t\t\t\tif (!t.trim()) return [];\r\n\t\t\t\t\tt = d(t);\r\n\t\t\t\t} else l && (t = [].concat(...t.map((t) => (t.value ? t : d(t)))));\r\n\t\t\t\treturn (\r\n\t\t\t\t\tr &&\r\n\t\t\t\t\t\t(t.forEach((t) => {\r\n\t\t\t\t\t\t\tvar e = o.map((t) => t.value),\r\n\t\t\t\t\t\t\t\ti = this.dropdown.filterListItems.call(this, t[n], { exact: !0 });\r\n\t\t\t\t\t\t\tthis.settings.duplicates || (i = i.filter((t) => !e.includes(t.value)));\r\n\t\t\t\t\t\t\tvar s = i.length > 1 ? this.getWhitelistItem(t[n], n, i) : i[0];\r\n\t\t\t\t\t\t\ts && s instanceof Object ? o.push(s) : \"mix\" != a && (null == t.value && (t.value = t[n]), o.push(t));\r\n\t\t\t\t\t\t}),\r\n\t\t\t\t\t\to.length && (t = o)),\r\n\t\t\t\t\tt\r\n\t\t\t\t);\r\n\t\t\t},\r\n\t\t\tparseMixTags(t) {\r\n\t\t\t\tvar e = this.settings,\r\n\t\t\t\t\ti = e.mixTagsInterpolator,\r\n\t\t\t\t\ts = e.duplicates,\r\n\t\t\t\t\ta = e.transformTag,\r\n\t\t\t\t\tn = e.enforceWhitelist,\r\n\t\t\t\t\to = e.maxTags,\r\n\t\t\t\t\tr = e.tagTextProp,\r\n\t\t\t\t\tl = [];\r\n\t\t\t\treturn (\r\n\t\t\t\t\t(t = t\r\n\t\t\t\t\t\t.split(i[0])\r\n\t\t\t\t\t\t.map((t, e) => {\r\n\t\t\t\t\t\t\tvar d,\r\n\t\t\t\t\t\t\t\th,\r\n\t\t\t\t\t\t\t\tg,\r\n\t\t\t\t\t\t\t\tp = t.split(i[1]),\r\n\t\t\t\t\t\t\t\tc = p[0],\r\n\t\t\t\t\t\t\t\tu = l.length == o;\r\n\t\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\t\tif (c == +c) throw Error;\r\n\t\t\t\t\t\t\t\th = JSON.parse(c);\r\n\t\t\t\t\t\t\t} catch (t) {\r\n\t\t\t\t\t\t\t\th = this.normalizeTags(c)[0] || { value: c };\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif ((a.call(this, h), u || !(p.length > 1) || (n && !this.isTagWhitelisted(h.value)) || (!s && this.isTagDuplicate(h.value)))) {\r\n\t\t\t\t\t\t\t\tif (t) return e ? i[0] + t : t;\r\n\t\t\t\t\t\t\t} else (h[(d = h[r] ? r : \"value\")] = this.trim(h[d])), (g = this.createTagElem(h)), l.push(h), g.classList.add(this.settings.classNames.tagNoAnimation), (p[0] = g.outerHTML), this.value.push(h);\r\n\t\t\t\t\t\t\treturn p.join(\"\");\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.join(\"\")),\r\n\t\t\t\t\t(this.DOM.input.innerHTML = t),\r\n\t\t\t\t\tthis.DOM.input.appendChild(document.createTextNode(\"\")),\r\n\t\t\t\t\tthis.DOM.input.normalize(),\r\n\t\t\t\t\tthis.getTagElms().forEach((t, e) => this.tagData(t, l[e])),\r\n\t\t\t\t\tthis.update({ withoutChangeEvent: !0 }),\r\n\t\t\t\t\tt\r\n\t\t\t\t);\r\n\t\t\t},\r\n\t\t\treplaceTextWithNode(t, e) {\r\n\t\t\t\tif (this.state.tag || e) {\r\n\t\t\t\t\te = e || this.state.tag.prefix + this.state.tag.value;\r\n\t\t\t\t\tvar i,\r\n\t\t\t\t\t\ts,\r\n\t\t\t\t\t\ta = window.getSelection(),\r\n\t\t\t\t\t\tn = a.anchorNode,\r\n\t\t\t\t\t\to = this.state.tag.delimiters ? this.state.tag.delimiters.length : 0;\r\n\t\t\t\t\treturn n.splitText(a.anchorOffset - o), -1 == (i = n.nodeValue.lastIndexOf(e)) ? !0 : ((s = n.splitText(i)), t && n.parentNode.replaceChild(t, s), !0);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tselectTag(t, e) {\r\n\t\t\t\tvar i = this.settings;\r\n\t\t\t\tif (!i.enforceWhitelist || this.isTagWhitelisted(e.value)) {\r\n\t\t\t\t\tthis.input.set.call(this, e[i.tagTextProp] || e.value, !0), this.state.actions.selectOption && setTimeout(this.setRangeAtStartEnd.bind(this));\r\n\t\t\t\t\tvar s = this.getLastTag();\r\n\t\t\t\t\treturn s ? this.replaceTag(s, e) : this.appendTag(t), (this.value[0] = e), this.update(), this.trigger(\"add\", { tag: t, data: e }), [t];\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\taddEmptyTag(t) {\r\n\t\t\t\tvar e = g({ value: \"\" }, t || {}),\r\n\t\t\t\t\ti = this.createTagElem(e);\r\n\t\t\t\tthis.tagData(i, e), this.appendTag(i), this.editTag(i, { skipValidation: !0 });\r\n\t\t\t},\r\n\t\t\taddTags(t, e, i) {\r\n\t\t\t\tvar s = [],\r\n\t\t\t\t\ta = this.settings,\r\n\t\t\t\t\tn = document.createDocumentFragment();\r\n\t\t\t\treturn (\r\n\t\t\t\t\t(i = i || a.skipInvalid),\r\n\t\t\t\t\tt && 0 != t.length\r\n\t\t\t\t\t\t? ((t = this.normalizeTags(t)),\r\n\t\t\t\t\t\t  \"mix\" == a.mode\r\n\t\t\t\t\t\t\t\t? this.addMixTags(t)\r\n\t\t\t\t\t\t\t\t: (\"select\" == a.mode && (e = !1),\r\n\t\t\t\t\t\t\t\t  this.DOM.input.removeAttribute(\"style\"),\r\n\t\t\t\t\t\t\t\t  t.forEach((t) => {\r\n\t\t\t\t\t\t\t\t\t\tvar e,\r\n\t\t\t\t\t\t\t\t\t\t\to = {},\r\n\t\t\t\t\t\t\t\t\t\t\tr = Object.assign({}, t, { value: t.value + \"\" });\r\n\t\t\t\t\t\t\t\t\t\tif (((t = Object.assign({}, r)), a.transformTag.call(this, t), (t.__isValid = this.hasMaxTags() || this.validateTag(t)), !0 !== t.__isValid)) {\r\n\t\t\t\t\t\t\t\t\t\t\tif (i) return;\r\n\t\t\t\t\t\t\t\t\t\t\tg(o, this.getInvalidTagAttrs(t, t.__isValid), { __preInvalidData: r }), t.__isValid == this.TEXTS.duplicate && this.flashTag(this.getTagElmByValue(t.value));\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\tif ((\"readonly\" in t && (t.readonly ? (o[\"aria-readonly\"] = !0) : delete t.readonly), (e = this.createTagElem(t, o)), s.push(e), \"select\" == a.mode)) return this.selectTag(e, t);\r\n\t\t\t\t\t\t\t\t\t\tn.appendChild(e), t.__isValid && !0 === t.__isValid ? (this.value.push(t), this.trigger(\"add\", { tag: e, index: this.value.length - 1, data: t })) : (this.trigger(\"invalid\", { data: t, index: this.value.length, tag: e, message: t.__isValid }), a.keepInvalidTags || setTimeout(() => this.removeTags(e, !0), 1e3)), this.dropdown.position();\r\n\t\t\t\t\t\t\t\t  }),\r\n\t\t\t\t\t\t\t\t  this.appendTag(n),\r\n\t\t\t\t\t\t\t\t  this.update(),\r\n\t\t\t\t\t\t\t\t  t.length && e && this.input.set.call(this),\r\n\t\t\t\t\t\t\t\t  this.dropdown.refilter(),\r\n\t\t\t\t\t\t\t\t  s))\r\n\t\t\t\t\t\t: (\"select\" == a.mode && this.removeAllTags(), s)\r\n\t\t\t\t);\r\n\t\t\t},\r\n\t\t\taddMixTags(t) {\r\n\t\t\t\tif ((t = this.normalizeTags(t))[0].prefix || this.state.tag) return this.prefixedTextToTag(t[0]);\r\n\t\t\t\t\"string\" == typeof t && (t = [{ value: t }]);\r\n\t\t\t\tvar e = !!this.state.selection,\r\n\t\t\t\t\ti = document.createDocumentFragment();\r\n\t\t\t\treturn (\r\n\t\t\t\t\tt.forEach((t) => {\r\n\t\t\t\t\t\tvar e = this.createTagElem(t);\r\n\t\t\t\t\t\ti.appendChild(e), this.insertAfterTag(e);\r\n\t\t\t\t\t}),\r\n\t\t\t\t\te ? this.injectAtCaret(i) : (this.DOM.input.focus(), (e = this.setStateSelection()).range.setStart(this.DOM.input, e.range.endOffset), e.range.setEnd(this.DOM.input, e.range.endOffset), this.DOM.input.appendChild(i), this.updateValueByDOMTags(), this.update()),\r\n\t\t\t\t\ti\r\n\t\t\t\t);\r\n\t\t\t},\r\n\t\t\tprefixedTextToTag(t) {\r\n\t\t\t\tvar e,\r\n\t\t\t\t\ti = this.settings,\r\n\t\t\t\t\ts = this.state.tag.delimiters;\r\n\t\t\t\tif ((i.transformTag.call(this, t), (t.prefix = t.prefix || this.state.tag ? this.state.tag.prefix : (i.pattern.source || i.pattern)[0]), (e = this.createTagElem(t)), this.replaceTextWithNode(e) || this.DOM.input.appendChild(e), setTimeout(() => e.classList.add(this.settings.classNames.tagNoAnimation), 300), this.value.push(t), this.update(), !s)) {\r\n\t\t\t\t\tvar a = this.insertAfterTag(e) || e;\r\n\t\t\t\t\tthis.placeCaretAfterNode(a);\r\n\t\t\t\t}\r\n\t\t\t\treturn (this.state.tag = null), this.trigger(\"add\", g({}, { tag: e }, { data: t })), e;\r\n\t\t\t},\r\n\t\t\tappendTag(t) {\r\n\t\t\t\tvar e = this.DOM,\r\n\t\t\t\t\ti = e.input;\r\n\t\t\t\ti === e.input ? e.scope.insertBefore(t, i) : e.scope.appendChild(t);\r\n\t\t\t},\r\n\t\t\tcreateTagElem(t, i) {\r\n\t\t\t\tt.__tagId = m();\r\n\t\t\t\tvar s,\r\n\t\t\t\t\ta = g({}, t, e({ value: d(t.value + \"\") }, i));\r\n\t\t\t\treturn (\r\n\t\t\t\t\t(function (t) {\r\n\t\t\t\t\t\tfor (var e, i = document.createNodeIterator(t, NodeFilter.SHOW_TEXT, null, !1); (e = i.nextNode()); ) e.textContent.trim() || e.parentNode.removeChild(e);\r\n\t\t\t\t\t})((s = this.parseTemplate(\"tag\", [a]))),\r\n\t\t\t\t\tthis.tagData(s, t),\r\n\t\t\t\t\ts\r\n\t\t\t\t);\r\n\t\t\t},\r\n\t\t\treCheckInvalidTags() {\r\n\t\t\t\tvar t = this.settings;\r\n\t\t\t\tthis.getTagElms(t.classNames.tagNotAllowed).forEach((t, e) => {\r\n\t\t\t\t\tvar i = this.tagData(t),\r\n\t\t\t\t\t\ts = this.hasMaxTags(),\r\n\t\t\t\t\t\ta = this.validateTag(i);\r\n\t\t\t\t\tif (!0 === a && !s) return (i = i.__preInvalidData ? i.__preInvalidData : { value: i.value }), this.replaceTag(t, i);\r\n\t\t\t\t\tt.title = s || a;\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tremoveTags(t, e, i) {\r\n\t\t\t\tvar s;\r\n\t\t\t\tif (\r\n\t\t\t\t\t((t = t && t instanceof HTMLElement ? [t] : t instanceof Array ? t : t ? [t] : [this.getLastTag()]),\r\n\t\t\t\t\t(s = t.reduce((t, e) => {\r\n\t\t\t\t\t\te && \"string\" == typeof e && (e = this.getTagElmByValue(e));\r\n\t\t\t\t\t\tvar i = this.tagData(e);\r\n\t\t\t\t\t\treturn e && i && !i.readonly && t.push({ node: e, idx: this.getTagIdx(i), data: this.tagData(e, { __removed: !0 }) }), t;\r\n\t\t\t\t\t}, [])),\r\n\t\t\t\t\t(i = \"number\" == typeof i ? i : this.CSSVars.tagHideTransition),\r\n\t\t\t\t\t\"select\" == this.settings.mode && ((i = 0), this.input.set.call(this)),\r\n\t\t\t\t\t1 == s.length && s[0].node.classList.contains(this.settings.classNames.tagNotAllowed) && (e = !0),\r\n\t\t\t\t\ts.length)\r\n\t\t\t\t)\r\n\t\t\t\t\treturn this.settings.hooks\r\n\t\t\t\t\t\t.beforeRemoveTag(s, { tagify: this })\r\n\t\t\t\t\t\t.then(() => {\r\n\t\t\t\t\t\t\tfunction t(t) {\r\n\t\t\t\t\t\t\t\tt.node.parentNode && (t.node.parentNode.removeChild(t.node), e ? this.settings.keepInvalidTags && this.trigger(\"remove\", { tag: t.node, index: t.idx }) : (this.trigger(\"remove\", { tag: t.node, index: t.idx, data: t.data }), this.dropdown.refilter(), this.dropdown.position(), this.DOM.input.normalize(), this.settings.keepInvalidTags && this.reCheckInvalidTags()));\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\ti && i > 10 && 1 == s.length\r\n\t\t\t\t\t\t\t\t? function (e) {\r\n\t\t\t\t\t\t\t\t\t\t(e.node.style.width = parseFloat(window.getComputedStyle(e.node).width) + \"px\"), document.body.clientTop, e.node.classList.add(this.settings.classNames.tagHide), setTimeout(t.bind(this), i, e);\r\n\t\t\t\t\t\t\t\t  }.call(this, s[0])\r\n\t\t\t\t\t\t\t\t: s.forEach(t.bind(this)),\r\n\t\t\t\t\t\t\t\te || (this.removeTagsFromValue(s.map((t) => t.node)), this.update(), \"select\" == this.settings.mode && this.setContentEditable(!0));\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.catch((t) => {});\r\n\t\t\t},\r\n\t\t\tremoveTagsFromDOM() {\r\n\t\t\t\t[].slice.call(this.getTagElms()).forEach((t) => t.parentNode.removeChild(t));\r\n\t\t\t},\r\n\t\t\tremoveTagsFromValue(t) {\r\n\t\t\t\t(t = Array.isArray(t) ? t : [t]).forEach((t) => {\r\n\t\t\t\t\tvar e = this.tagData(t),\r\n\t\t\t\t\t\ti = this.getTagIdx(e);\r\n\t\t\t\t\ti > -1 && this.value.splice(i, 1);\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tremoveAllTags(t) {\r\n\t\t\t\t(t = t || {}), (this.value = []), \"mix\" == this.settings.mode ? (this.DOM.input.innerHTML = \"\") : this.removeTagsFromDOM(), this.dropdown.position(), \"select\" == this.settings.mode && (this.input.set.call(this), this.setContentEditable(!0)), this.update(t);\r\n\t\t\t},\r\n\t\t\tpostUpdate() {\r\n\t\t\t\tvar t = this.settings.classNames,\r\n\t\t\t\t\te = \"mix\" == this.settings.mode ? (this.settings.mixMode.integrated ? this.DOM.input.textContent : this.DOM.originalInput.value.trim()) : this.value.length + this.input.raw.call(this).length;\r\n\t\t\t\tthis.toggleClass(t.hasMaxTags, this.value.length >= this.settings.maxTags), this.toggleClass(t.hasNoTags, !this.value.length), this.toggleClass(t.empty, !e);\r\n\t\t\t},\r\n\t\t\tsetOriginalInputValue(t) {\r\n\t\t\t\tvar e = this.DOM.originalInput;\r\n\t\t\t\tthis.settings.mixMode.integrated || ((e.value = t), (e.tagifyValue = e.value), this.setPersistedData(t, \"value\"));\r\n\t\t\t},\r\n\t\t\tupdate(t) {\r\n\t\t\t\tvar e = this.getInputValue();\r\n\t\t\t\tthis.setOriginalInputValue(e), this.postUpdate(), (t || {}).withoutChangeEvent || this.state.blockChangeEvent || this.triggerChangeEvent();\r\n\t\t\t},\r\n\t\t\tgetInputValue() {\r\n\t\t\t\tvar t = this.getCleanValue();\r\n\t\t\t\treturn \"mix\" == this.settings.mode ? this.getMixedTagsAsString(t) : t.length ? (this.settings.originalInputValueFormat ? this.settings.originalInputValueFormat(t) : JSON.stringify(t)) : \"\";\r\n\t\t\t},\r\n\t\t\tgetCleanValue(t) {\r\n\t\t\t\treturn a(t || this.value, this.dataProps);\r\n\t\t\t},\r\n\t\t\tgetMixedTagsAsString() {\r\n\t\t\t\tvar t = \"\",\r\n\t\t\t\t\te = this,\r\n\t\t\t\t\ti = this.settings.mixTagsInterpolator;\r\n\t\t\t\treturn (\r\n\t\t\t\t\t(function s(a) {\r\n\t\t\t\t\t\ta.childNodes.forEach((a) => {\r\n\t\t\t\t\t\t\tif (1 == a.nodeType) {\r\n\t\t\t\t\t\t\t\tconst o = e.tagData(a);\r\n\t\t\t\t\t\t\t\tif ((\"BR\" == a.tagName && (t += \"\\r\\n\"), a.getAttribute(\"style\") || [\"B\", \"I\", \"U\"].includes(a.tagName))) t += a.textContent;\r\n\t\t\t\t\t\t\t\telse if (\"DIV\" == a.tagName || \"P\" == a.tagName) (t += \"\\r\\n\"), s(a);\r\n\t\t\t\t\t\t\t\telse if (v.call(e, a) && o) {\r\n\t\t\t\t\t\t\t\t\tif (o.__removed) return;\r\n\t\t\t\t\t\t\t\t\tt += i[0] + JSON.stringify(n(o, e.dataProps)) + i[1];\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t} else t += a.textContent;\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t})(this.DOM.input),\r\n\t\t\t\t\tt\r\n\t\t\t\t);\r\n\t\t\t},\r\n\t\t}),\r\n\t\t(M.prototype.removeTag = M.prototype.removeTags),\r\n\t\tM\r\n\t);\r\n});\r\n"],"names":["t","e","exports","module","define","amd","globalThis","self","Tagify","this","s","i","Object","keys","getOwnPropertySymbols","filter","getOwnPropertyDescriptor","enumerable","push","apply","arguments","length","a","forEach","defineProperty","value","configurable","writable","getOwnPropertyDescriptors","defineProperties","trim","toLowerCase","Array","isArray","map","n","indexOf","o","document","createElement","replace","innerHTML","innerText","r","DOMParser","parseFromString","body","firstElementChild","l","nodeType","d","h","prototype","toString","call","split","slice","g","hasOwnProperty","assign","p","let","includes","c","String","normalize","u","test","navigator","userAgent","m","crypto","getRandomValues","Uint8Array","v","classList","contains","settings","classNames","tag","f","delimiters","pattern","tagTextProp","maxTags","callbacks","addTagOnBlur","duplicates","whitelist","blacklist","enforceWhitelist","userInput","keepInvalidTags","mixTagsAllowedAfter","mixTagsInterpolator","backspace","skipInvalid","pasteAsTags","editTags","clicks","keepInvalid","transformTag","a11y","focusableTags","mixMode","insertAfterTag","autoComplete","enabled","rightKey","namespace","selectMode","input","focus","tagNoAnimation","tagInvalid","tagNotAllowed","scopeLoading","hasMaxTags","hasNoTags","empty","inputInvalid","dropdown","dropdownWrapper","dropdownHeader","dropdownFooter","dropdownItem","dropdownItemActive","dropdownInital","tagText","tagX","tagLoading","tagEditing","tagFlash","tagHide","classname","maxItems","searchKeys","fuzzySearch","caseSensitive","accentedSearch","highlightFirst","closeOnSelect","clearOnSelect","position","appendTarget","hooks","beforeRemoveTag","Promise","resolve","beforePaste","suggestionClick","w","refs","DOM","parseTemplate","content","querySelector","show","mode","state","inputText","templates","dropdownItemNoMatch","enable","isLoading","clearTimeout","dropdownHide__bindEventsTimeout","suggestedListItems","filterListItems","trigger","editing","scope","unshift","autocomplete","suggest","hide","fill","highlightOption","children","visible","setTimeout","events","binding","bind","query","setStateSelection","render","window","removeEventListener","setAttribute","parentNode","removeChild","ddItemData","ddItemElm","selection","flaggedTags","baseOffset","toggle","cloneNode","style","cssText","appendChild","clientHeight","add","remove","createListHTML","dropdownContent","refilter","placeAbove","documentElement","Math","max","clientWidth","innerWidth","getCaretGlobalPosition","bottom","top","left","offsetLeft","offsetTop","getBoundingClientRect","width","floor","ceil","pageXOffset","pageYOffset","listeners","onKeyDown","onMouseOver","onMouseLeave","onClick","onScroll","dropdownItemActiveSelector","getSuggestionDataByNode","key","preventDefault","actions","ArrowLeft","getMappedValue","set","tagify","tagData","suggestionElm","then","selectOption","addTags","catch","raw","charCodeAt","removeTags","editTag","target","closest","dropdownItemSelector","button","console","warn","scrollTop","scrollHeight","percentage","round","getAttribute","removeAttribute","getNodeIndex","data","elm","onEditTagDone","__isValid","normalizeTags","toggleFocusClass","selectAll","suggestions","isTagDuplicate","T","some","exact","reduce","every","sortby","concat","mapValueTo","join","b","y","x","exceed","duplicate","notAllowed","O","customBinding","customEventsList","on","mainEvents","main","bindGlobal","isJQueryPlugin","jQuery","originalInput","removeAllTags","onFocusBlur","keydown","onKeydown","click","onClickScope","dblclick","onDoubleClickScope","paste","onPaste","drop","onDrop","clearInterval","originalInputValueObserverInterval","setInterval","observeOriginalInputValue","inputMutationObserver","MutationObserver","onInputDOMChange","disconnect","observe","childList","global","type","isIE","cb","onWindowKeyDown","unbindGlobal","textContent","relatedTarget","addNew","postUpdate","triggerChangeEvent","hasFocus","Date","loading","getWhitelistItem","activeElement","nextElementSibling","readonly","originalEvent","cloneEvent","getSelection","anchorOffset","anchorNode","previousSibling","getTagElms","previousElementSibling","hasAttribute","placeCaretAfterNode","nodeName","nodeValue","fixFirefoxLastTagNoCaret","tagName","index","blur","inputSuggestion","keyCode","onInput","onMixTagsInput","inputElm","isValid","validateTag","search","createDocumentFragment","getRangeAt","inputType","createTagElem","childNodes","insertNode","setRangeAtStartEnd","lastChild","update","withoutChangeEvent","rangeCount","cloneRange","collapse","setStart","focusNode","endOffset","match","lastIndexOf","prefix","matchedPatternCount","onInputIE","tagifyValue","loadOriginalValues","clipboardData","getData","pastedText","injectAtCaret","onEditTagInput","__tagifyTagData","__originalHTML","originalIsValid","title","newValue","onEditTagFocus","onEditTagBlur","__originalData","message","class","onEditTagkeydown","addedNodes","outerHTML","replaceWith","tagSelector","createTextNode","removedNodes","M","Proxy","get","off","cloneData","triggerHandler","HTMLElement","CustomEvent","detail","dispatchEvent","isFirefox","InstallTrigger","documentMode","getPersistedData","id","localStorage","getItem","JSON","parse","setPersistedData","setItem","stringify","Event","clearPersistedData","removeItem","applySettings","build","_dropdown","getCSSVars","autofocus","helpers","sameStr","removeCollectionProp","omit","isObject","parseHTML","escapeHTML","extend","concatWithoutDups","getUID","isNodeTag","dataProps","wrapper","className","disabled","required","placeholder","getAttributes","RegExp","TEXTS","texts","getCustomAttributes","range","startContainer","startOffset","createRange","setEnd","right","getComputedStyle","CSSVars","tagHideTransition","unit","getPropertyValue","pop","integrated","originalInput_tabIndex","tabIndex","inputSelector","insertBefore","destroy","blockChangeEvent","parseMixTags","insertAdjacentHTML","lastOriginalValueReported","toggleClass","bubbles","simulated","_valueTracker","setValue","random","nextSibling","setStartAfter","removeAllRanges","addRange","getLastTag","tagTextSelector","editable","addEventListener","skipValidation","editTagToggleValidity","removeTagsFromValue","previousData","replaceTag","reCheckInvalidTags","getInvalidTagAttrs","replaceChild","updateValueByDOMTags","deleteContents","validate","source","charAt","substr","substring","replaceTextWithNode","getTagIdx","findIndex","__tagId","querySelectorAll","getTagIndexByValue","getTagElmByValue","flashTag","isTagBlacklisted","isTagWhitelisted","aria-invalid","setReadonly","setContentEditable","contentEditable","setDisabled","Error","splitText","selectTag","appendTag","addEmptyTag","addMixTags","__preInvalidData","prefixedTextToTag","createNodeIterator","NodeFilter","SHOW_TEXT","nextNode","node","idx","__removed","parseFloat","clientTop","removeTagsFromDOM","splice","setOriginalInputValue","getInputValue","getCleanValue","getMixedTagsAsString","originalInputValueFormat","removeTag"],"mappings":"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"}
(u=>{function s(e,t,n){for(var r,o,a,n=(e=u(e)).clone(t,n),i=e.find("textarea").add(e.filter("textarea")),l=n.find("textarea").add(n.filter("textarea")),c=e.find("select").add(e.filter("select")),d=n.find("select").add(n.filter("select")),s=e.find("canvas").add(e.filter("canvas")),f=n.find("canvas").add(n.filter("canvas")),p=0,h=i.length;p<h;++p)u(l[p]).val(u(i[p]).val());for(p=0,h=c.length;p<h;++p)for(r=0,o=c[p].options.length;r<o;++r)!0===c[p].options[r].selected&&(d[p].options[r].selected=!0);for(p=0,h=s.length;p<h;++p)(a=s[p].getContext("2d"))&&(f[p].getContext("2d").drawImage(s[p],0,0),u(f[p]).attr("data-jquery-print",a.canvas.toDataURL()));return n}function f(t){var n=u("");try{n=s(t)}catch(e){n=u("<span />").html(t)}return n}function p(t,e,n){var r=u.Deferred();try{t=t.contentWindow||t.contentDocument||t;try{t.resizeTo(window.innerWidth,window.innerHeight)}catch(e){console.warn(e)}var o=t.document||t.contentDocument||t;n.doctype&&o.write(n.doctype),o.write(e);try{for(var a=o.querySelectorAll("canvas"),i=0;i<a.length;i++){var l=a[i].getContext("2d"),c=new Image;c.onload=function(){l.drawImage(c,0,0)},c.src=a[i].getAttribute("data-jquery-print")}}catch(e){console.warn(e)}o.close();var d=!1,s=function(){if(!d){t.focus();try{t.document.execCommand("print",!1,null)||t.print(),u("body").focus()}catch(e){t.print()}t.close(),d=!0,r.resolve()}};u(t).on("load",s),setTimeout(s,n.timeout)}catch(e){r.reject(e)}return r}function h(e,t){p(window.open(),e,t).always(function(){try{t.deferred.resolve()}catch(e){console.warn("Error notifying deferred",e)}})}function y(e){return"object"==typeof Node?e instanceof Node:e&&"object"==typeof e&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName}u.print=u.fn.print=function(){y(e=(e=this)instanceof u?e.get(0):e)?(o=u(e),0<arguments.length&&(t=arguments[0])):0<arguments.length?y((o=u(arguments[0]))[0])?1<arguments.length&&(t=arguments[1]):(t=arguments[0],o=u("html")):o=u("html");var e={globalStyles:!0,mediaPrint:!1,stylesheet:null,noPrintSelector:".no-print",iframe:!0,append:null,prepend:null,manuallyCopyFormValues:!0,deferred:u.Deferred(),timeout:750,title:null,doctype:"<!doctype html>"},t=u.extend({},e,t||{}),n=u("");if(t.globalStyles?n=u("style, link, meta, base, title"):t.mediaPrint&&(n=u("link[media=print]")),t.stylesheet){(u.isArray||Array.isArray)(t.stylesheet)||(t.stylesheet=[t.stylesheet]);for(var r=0;r<t.stylesheet.length;r++)n=u.merge(n,u('<link rel="stylesheet" href="'+t.stylesheet[r]+'">'))}var o=s(o,!0,!0);(o=u("<span/>").append(o)).find(t.noPrintSelector).remove(),o.append(s(n)),t.title&&(0===(d=u("title",o)).length&&(d=u("<title />"),o.append(d)),d.text(t.title)),o.append(f(t.append)),o.prepend(f(t.prepend)),t.manuallyCopyFormValues&&(o.find("input").each(function(){var e=u(this);e.is("[type='radio']")||e.is("[type='checkbox']")?e.prop("checked")&&e.attr("checked","checked"):e.attr("value",e.val())}),o.find("select").each(function(){u(this).find(":selected").attr("selected","selected")}),o.find("textarea").each(function(){var e=u(this);e.text(e.val())}));var a,i,l,c,d=o.html();try{t.deferred.notify("generated_markup",d,o)}catch(e){console.warn("Error notifying deferred",e)}if(o.remove(),t.iframe)try{a=d,l=u((i=t).iframe+""),c=l.length,p((l=0===c?u('<iframe height="0" width="0" border="0" wmode="Opaque"/>').prependTo("body").css({position:"absolute",top:-999,left:-999}):l).get(0),a,i).done(function(){setTimeout(function(){0===c&&l.remove()},1e3)}).fail(function(e){console.error("Failed to print from iframe",e),h(a,i)}).always(function(){try{i.deferred.resolve()}catch(e){console.warn("Error notifying deferred",e)}})}catch(e){console.error("Failed to print from iframe",e.stack,e.message),h(d,t)}else h(d,t);return this}})(jQuery);
//# sourceMappingURL=jquery.print.min.js.map
